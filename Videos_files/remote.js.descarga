(function(g){var window=this;'use strict';var b1D=function(O,V){return g.VU(O,V)},plW=function(O){if(O instanceof g.bD)return O;
if(typeof O.S8=="function")return O.S8(!1);if(g.Bh(O)){let V=0;const J=new g.bD;J.next=function(){for(;;){if(V>=O.length)return g.Mp;if(V in O)return g.pi(O[V++]);V++}};
return J}throw Error("Not implemented");},fqz=function(O,V,J){if(g.Bh(O))g.zD(O,V,J);
else for(O=plW(O);;){const {done:y,value:l}=O.next();if(y)break;V.call(J,l,void 0,O)}},yu=function(O){g.On(O,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^g.mC()).toString(36));
return O},lq=function(O,V,J){Array.isArray(J)||(J=[String(J)]);
g.li(O.D,V,J)},h3s=function(O,V){const J=[];
fqz(V,function(y){let l;try{l=g.nW.prototype.jW.call(this,y,!0)}catch(m){if(m=="Storage: Invalid value was encountered")return;throw m;}l===void 0?J.push(y):g.LW(l)&&J.push(y)},O);
return J},ouE=function(O,V){h3s(O,V).forEach(function(J){g.nW.prototype.remove.call(this,J)},O)},vuy=function(O){if(O.UR){if(O.UR.locationOverrideToken)return{locationOverrideToken:O.UR.locationOverrideToken};
if(O.UR.latitudeE7!=null&&O.UR.longitudeE7!=null)return{latitudeE7:O.UR.latitudeE7,longitudeE7:O.UR.longitudeE7}}return null},wly=function(O,V){g.fd(O,V)||O.push(V)},mF=function(O){let V=0;
for(const J in O)V++;return V},MDs=function(O){try{return g.tr.JSON.parse(O)}catch(V){}O=String(O);
if(/^\s*$/.test(O)?0:/^[\],:{}\s\u2028\u2029]*$/.test(O.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+O+")")}catch(V){}throw Error("Invalid JSON string: "+O);},$w=function(O){if(g.tr.JSON)try{return g.tr.JSON.parse(O)}catch(V){}return MDs(O)},LKF=function(O,V,J,y){const l=new g.rC(null);
O&&g.ik(l,O);V&&g.Rf(l,V);J&&g.BM(l,J);y&&(l.j=y);return l},nu1=function(O,V){return new g.CS7(O,V)},H1=function(O,V){return Object.prototype.hasOwnProperty.call(O,V)},Xlz=function(O,V){return O===V},jb=function(O,V){this.j={};
this.K=[];this.qB=this.size=0;var J=arguments.length;if(J>1){if(J%2)throw Error("Uneven number of arguments");for(var y=0;y<J;y+=2)this.set(arguments[y],arguments[y+1])}else if(O)if(O instanceof jb)for(J=O.NK(),y=0;y<J.length;y++)this.set(J[y],O.get(J[y]));else for(y in O)this.set(y,O[y])},CQ=function(O){if(O.size!=O.K.length){for(var V=0,J=0;V<O.K.length;){var y=O.K[V];
H1(O.j,y)&&(O.K[J++]=y);V++}O.K.length=J}if(O.size!=O.K.length){V={};for(y=J=0;J<O.K.length;){const l=O.K[J];H1(V,l)||(O.K[y++]=l,V[l]=1);J++}O.K.length=y}},F8=function(O){this.name=this.id="";
this.clientName="UNKNOWN_INTERFACE";this.app="";this.type="REMOTE_CONTROL";this.ownerObfuscatedGaiaId=this.obfuscatedGaiaId=this.avatar=this.username="";this.capabilities=new Set;this.compatibleSenderThemes=new Set;this.experiments=new Set;this.theme="u";new jb;this.model=this.brand="";this.year=0;this.chipset=this.osVersion=this.os="";this.mdxDialServerType="MDX_DIAL_SERVER_TYPE_UNKNOWN";O&&(this.id=O.id||O.name,this.name=O.name,this.clientName=O.clientName?O.clientName.toUpperCase():"UNKNOWN_INTERFACE",
this.app=O.app,this.type=O.type||"REMOTE_CONTROL",this.username=O.user||"",this.avatar=O.userAvatarUri||"",this.obfuscatedGaiaId=O.obfuscatedGaiaId||"",this.ownerObfuscatedGaiaId=O.ownerObfuscatedGaiaId||"",this.theme=O.theme||"u",Eud(this,O.capabilities||""),dxW(this,O.compatibleSenderThemes||""),guz(this,O.experiments||""),this.brand=O.brand||"",this.model=O.model||"",this.year=O.year||0,this.os=O.os||"",this.osVersion=O.osVersion||"",this.chipset=O.chipset||"",this.mdxDialServerType=O.mdxDialServerType||
"MDX_DIAL_SERVER_TYPE_UNKNOWN",O=O.deviceInfo)&&(O=JSON.parse(O),this.brand=O.brand||"",this.model=O.model||"",this.year=O.year||0,this.os=O.os||"",this.osVersion=O.osVersion||"",this.chipset=O.chipset||"",this.clientName=O.clientName?O.clientName.toUpperCase():"UNKNOWN_INTERFACE",this.mdxDialServerType=O.mdxDialServerType||"MDX_DIAL_SERVER_TYPE_UNKNOWN")},Eud=function(O,V){O.capabilities.clear();
g.sz(V.split(","),g.lm(b1D,qLz)).forEach(J=>{O.capabilities.add(J)})},dxW=function(O,V){O.compatibleSenderThemes.clear();
g.sz(V.split(","),g.lm(b1D,Qhz)).forEach(J=>{O.compatibleSenderThemes.add(J)})},guz=function(O,V){O.experiments.clear();
V.split(",").forEach(J=>{O.experiments.add(J)})},NG=function(O){O=O||{};
this.name=O.name||"";this.id=O.id||O.screenId||"";this.token=O.token||O.loungeToken||"";this.uuid=O.uuid||O.dialId||"";this.idType=O.screenIdType||"normal";this.secret=O.screenIdSecret||""},xw=function(O,V){return!!V&&(O.id==V||O.uuid==V)},GOD=function(O){return{name:O.name,
screenId:O.id,loungeToken:O.token,dialId:O.uuid,screenIdType:O.idType,screenIdSecret:O.secret}},KKd=function(O){return new NG(O)},tDy=function(O){return Array.isArray(O)?g.TD(O,KKd):[]},W1=function(O){return O?`{name:"${O.name}",id:${O.id.substr(0,6)}..,token:${O.token?".."+O.token.slice(-6):"-"},uuid:${O.uuid?".."+O.uuid.slice(-6):"-"},idType:${O.idType},secret:${O.secret?".."+O.secret.slice(-6):"-"}}`:"null"},UY=function(O){return Array.isArray(O)?"["+g.TD(O,W1).join(",")+"]":"null"},ZC=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
function(O){const V=Math.random()*16|0;
return(O=="x"?V:V&3|8).toString(16)})},uMn=function(O){return g.TD(O,function(V){return{key:V.id,
name:V.name}})},za=function(O,V){return g.bm(O,function(J){return J||V?!J!=!V?!1:J.id==V.id:!0})},c1=function(O,V){return g.bm(O,function(J){return xw(J,V)})},A6s=function(){const O=g.SY.Ij();
O&&ouE(O,O.eV.S8(!0))},sY=function(){const O=g.OZ("yt-remote-connected-devices")||[];
g.Kd(O);return O},r6z=function(O){if(O.length==0)return[];
const V=O[0].indexOf("#"),J=V==-1?O[0]:O[0].substring(0,V);return g.TD(O,function(y,l){return l==0?y:y.substring(J.length)})},i1I=function(O){g.Dj("yt-remote-connected-devices",O,86400)},eb=function(){if(Ta)return Ta;
let O=g.OZ("yt-remote-device-id");O||(O=ZC(),g.Dj("yt-remote-device-id",O,31536E3));const V=sY();let J=1,y=O;for(;g.fd(V,y);)J++,y=O+"#"+J;return Ta=y},Iv=function(){let O=sY();
const V=eb();g.J7()&&g.um(O,V);O=r6z(O);if(O.length==0)try{g.m4("remote_sid")}catch(J){}else try{g.yz("remote_sid",O.join(","),-1)}catch(J){}},R3D=function(){return g.OZ("yt-remote-session-browser-channel")},BfE=function(){return g.OZ("yt-remote-local-screens")||[]},PIz=function(){g.Dj("yt-remote-lounge-token-expiration",!0,86400)},kOW=function(O){O.length>5&&(O=O.slice(O.length-5));
const V=g.TD(BfE(),function(y){return y.loungeToken}),J=g.TD(O,function(y){return y.loungeToken});
g.YE(J,function(y){return!g.fd(V,y)})&&PIz();
g.Dj("yt-remote-local-screens",O,31536E3)},Yw=function(O){O||(g.V2("yt-remote-session-screen-id"),g.V2("yt-remote-session-video-id"));
Iv();O=sY();g.vn(O,eb());i1I(O)},SLs=function(){if(!av){const O=g.KW();
O&&(av=new g.hy(O))}},DxC=function(){SLs();
return av?!!av.get("yt-remote-use-staging-server"):!1},bq=function(O,V){g.Sn[O]=!0;
const J=g.PF();J&&J.publish.apply(J,arguments);g.Sn[O]=!1},pQ=function(){let O=window.navigator.userAgent.match(/Chrome\/([0-9]+)/);
return O?parseInt(O[1],10):0},Oim=function(O){return!!document.currentScript&&(document.currentScript.src.indexOf("?"+O)!=-1||document.currentScript.src.indexOf("&"+O)!=-1)},Vam=function(){return typeof window.__onGCastApiAvailable=="function"?window.__onGCastApiAvailable:null},fQ=function(O){O.length?Jbm(O.shift(),function(){fQ(O)}):hv()},hv=function(){let O=Vam();
O&&O(!1,"No cast extension found")},Jbm=function(O,V,J){let y=document.createElement("script");
y.onerror=V;J&&(y.onload=J);g.UD(y,g.Vn(O));(document.head||document.documentElement).appendChild(y)},ybz=function(O){return"chrome-extension://"+O+"/cast_sender.js"},lBV=function(){const O=pQ(),V=[];
if(O>1){const J=O-1;V.push("//www.gstatic.com/eureka/clank/"+O+"/cast_sender.js");V.push("//www.gstatic.com/eureka/clank/"+J+"/cast_sender.js")}return V},ov=function(){if(m$C){var O=2,V=Vam(),J=function(){O--;
O==0&&V&&V(!0)};
window.__onGCastApiAvailable=J;Jbm("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",hv,J)}},$$E=function(){ov();
let O=lBV();O.push("//www.gstatic.com/eureka/clank/cast_sender.js");fQ(O)},jV1=function(){ov();
let O=lBV();O.push(...Hiz.map(ybz));O.push("//www.gstatic.com/eureka/clank/cast_sender.js");fQ(O)},v1=function(O,V,J){g.mz.call(this);
this.A=J!=null?(0,g.Vs)(O,J):O;this.bV=V;this.W=(0,g.Vs)(this.kH,this);this.K=!1;this.j=0;this.U=this.bR=null;this.D=[]},wK=function(){this.K=g.mC()},CDV=function(){MG||(MG=new wK)},FzV=function(){MG||(MG=new wK)},LQ=function(){g.jJ.call(this,"p")},nQ=function(){g.jJ.call(this,"o")},X8=function(){return N2C=N2C||new g.o5},x$n=function(O){g.jJ.call(this,"serverreachability",O)},EY=function(O){const V=X8();
V.dispatchEvent(new x$n(V,O))},WzD=function(O){g.jJ.call(this,"statevent",O)},dK=function(O){const V=X8();
V.dispatchEvent(new WzD(V,O))},U$F=function(O,V,J,y){g.jJ.call(this,"timingevent",O);
this.size=V;this.rtt=J;this.retries=y},gK=function(O,V){if(typeof O!=="function")throw Error("Fn must not be null and must be a function");
return g.tr.setTimeout(function(){O()},V)},qG=function(){},Qu=function(O,V,J,y){this.U=O;
this.D=V;this.UR=J;this.Ks=y||1;this.TL=new g.Hw(this);this.cE=45E3;this.O5=null;this.A=!1;this.T=this.xi=this.S=this.uw=this.qX=this.PE=this.KD=null;this.J=[];this.K=null;this.V=0;this.W=this.lw=null;this.zL=-1;this.Xj=!1;this.SB=0;this.GL=null;this.BE=this.ol=this.s5=this.fD=!1;this.j=new Zim},Zim=function(){this.U=null;
this.K="";this.j=!1},Ga=function(O,V,J){O.uw=1;
O.S=yu(V.clone());O.T=J;O.fD=!0;zj1(O,null)},zj1=function(O,V){O.qX=Date.now();
KQ(O);O.xi=O.S.clone();lq(O.xi,"t",O.Ks);O.V=0;const J=O.U.ol;O.j=new Zim;O.K=cbn(O.U,J?V:null,!O.T);O.SB>0&&(O.GL=new g.Du((0,g.Vs)(O.zz,O,O.K),O.SB));O.TL.listen(O.K,"readystatechange",O.Vf);V=O.O5?g.jw(O.O5):{};O.T?(O.lw||(O.lw="POST"),V["Content-Type"]="application/x-www-form-urlencoded",O.K.send(O.xi,O.lw,O.T,V)):(O.lw="GET",O.K.send(O.xi,O.lw,null,V));EY(1)},T2V=function(O){if(!sVn(O))return g.E7(O.K);
const V=g.d7(O.K);if(V==="")return"";let J="";const y=V.length,l=g.LZ(O.K)==4;if(!O.j.U){if(typeof TextDecoder==="undefined")return tv(O),uq(O),"";O.j.U=new g.tr.TextDecoder}for(let m=0;m<y;m++)O.j.j=!0,J+=O.j.U.decode(V[m],{stream:!(l&&m==y-1)});V.length=0;O.j.K+=J;O.V=0;return O.j.K},sVn=function(O){return O.K?O.lw=="GET"&&O.uw!=2&&O.U.yK:!1},IBW=function(O,V){var J=O.V,y=V.indexOf("\n",J);
if(y==-1)return Av;J=Number(V.substring(J,y));if(isNaN(J))return ejz;y+=1;if(y+J>V.length)return Av;V=V.slice(y,y+J);O.V=y+J;return V},KQ=function(O){O.PE=Date.now()+O.cE;
Y6E(O,O.cE)},Y6E=function(O,V){if(O.KD!=null)throw Error("WatchDog timer not null");
O.KD=gK((0,g.Vs)(O.Gn,O),V)},rK=function(O){O.KD&&(g.tr.clearTimeout(O.KD),O.KD=null)},uq=function(O){O.U.Ic()||O.Xj||aBC(O.U,O)},tv=function(O){rK(O);
g.y$(O.GL);O.GL=null;O.TL.removeAll();if(O.K){const V=O.K;O.K=null;V.abort();V.dispose()}},V3=function(O,V){try{var J=O.U;
if(J.nE!=0&&(J.K==O||iq(J.j,O)))if(!O.ol&&iq(J.j,O)&&J.nE==3){try{var y=J.cB.K.parse(V)}catch(N){y=null}if(Array.isArray(y)&&y.length==3){var l=y;if(l[0]==0)a:{if(!J.S){if(J.K)if(J.K.qX+3E3<O.qX)Rv(J),B1(J);else break a;P1(J);dK(18)}}else J.OA=l[1],0<J.OA-J.uw&&l[2]<37500&&J.GL&&J.J==0&&!J.KD&&(J.KD=gK((0,g.Vs)(J.gg,J),6E3));if(kw(J.j)<=1&&J.zL){try{J.zL()}catch(N){}J.zL=void 0}}else Sb(J,11)}else if((O.ol||J.K==O)&&Rv(J),!g.Tv(V))for(l=J.cB.K.parse(V),V=0;V<l.length;V++){let N=l[V];const x=N[0];
if(!(x<=J.uw))if(J.uw=x,N=N[1],J.nE==2)if(N[0]=="c"){J.D=N[1];J.UR=N[2];const W=N[3];W!=null&&(J.aV=W);const U=N[5];U!=null&&typeof U==="number"&&U>0&&(J.SB=1.5*U);y=J;const Z=O.HJ();if(Z){const T=g.qn(Z,"X-Client-Wire-Protocol");if(T){var m=y.j;!m.K&&(g.ew(T,"spdy")||g.ew(T,"quic")||g.ew(T,"h2"))&&(m.D=m.W,m.K=new Set,m.j&&(DC(m,m.j),m.j=null))}if(y.fD){const p=g.qn(Z,"X-HTTP-Session-Id");p&&(y.Nq=p,g.On(y.O5,y.fD,p))}}J.nE=3;J.W&&J.W.K7();J.oB&&(J.Ty=Date.now()-O.qX);y=J;var H=O;y.Jx=biF(y,y.ol?
y.UR:null,y.Ls);if(H.ol){pay(y.j,H);var C=H,F=y.SB;F&&C.setTimeout(F);C.KD&&(rK(C),KQ(C));y.K=H}else fBF(y);J.U.length>0&&Ob(J)}else N[0]!="stop"&&N[0]!="close"||Sb(J,7);else J.nE==3&&(N[0]=="stop"||N[0]=="close"?N[0]=="stop"?Sb(J,7):J.disconnect():N[0]!="noop"&&J.W&&J.W.qa(N),J.J=0)}EY(4)}catch(N){}},hjd=function(O){this.W=O||10;
g.tr.PerformanceNavigationTiming?(O=g.tr.performance.getEntriesByType("navigation"),O=O.length>0&&(O[0].nextHopProtocol=="hq"||O[0].nextHopProtocol=="h2")):O=!!(g.tr.chrome&&g.tr.chrome.loadTimes&&g.tr.chrome.loadTimes()&&g.tr.chrome.loadTimes().wasFetchedViaSpdy);this.D=O?this.W:1;this.K=null;this.D>1&&(this.K=new Set);this.j=null;this.U=[]},oQE=function(O){return O.j?!0:O.K?O.K.size>=O.D:!1},kw=function(O){return O.j?1:O.K?O.K.size:0},iq=function(O,V){return O.j?O.j==V:O.K?O.K.has(V):!1},DC=function(O,
V){O.K?O.K.add(V):O.j=V},pay=function(O,V){O.j&&O.j==V?O.j=null:O.K&&O.K.has(V)&&O.K.delete(V)},Jk=function(O){if(O.j!=null)return O.U.concat(O.j.J);
if(O.K!=null&&O.K.size!==0){let V=O.U;for(const J of O.K.values())V=V.concat(J.J);return V}return g.Ld(O.U)},vQz=function(O,V){const J=new qG;
if(g.tr.Image){const y=new Image;y.onload=g.lm(y3,J,"TestLoadImage: loaded",!0,V,y);y.onerror=g.lm(y3,J,"TestLoadImage: error",!1,V,y);y.onabort=g.lm(y3,J,"TestLoadImage: abort",!1,V,y);y.ontimeout=g.lm(y3,J,"TestLoadImage: timeout",!1,V,y);g.tr.setTimeout(function(){if(y.ontimeout)y.ontimeout()},1E4);
y.src=O}else V(!1)},waC=function(O,V){const J=new qG,y=new AbortController,l=setTimeout(()=>{y.abort();
y3(J,"TestPingServer: timeout",!1,V)},1E4);
fetch(O,{signal:y.signal}).then(m=>{clearTimeout(l);m.ok?y3(J,"TestPingServer: ok",!0,V):y3(J,"TestPingServer: server error",!1,V)}).catch(()=>{clearTimeout(l);
y3(J,"TestPingServer: error",!1,V)})},y3=function(O,V,J,y,l){try{l&&(l.onload=null,l.onerror=null,l.onabort=null,l.ontimeout=null),y(J)}catch(m){}},Maz=function(){this.K=new lt},mn=function(O,V,J){return J&&J.KO?J.KO[O]||V:V},LzW=function(O){this.U=[];
this.UR=this.Jx=this.O5=this.Ls=this.K=this.Nq=this.fD=this.Xj=this.V=this.s5=this.T=null;this.AL=this.xi=0;this.Zs=mn("failFast",!1,O);this.GL=this.KD=this.S=this.A=this.W=null;this.dC=!0;this.OA=this.uw=-1;this.Ks=this.J=this.qX=0;this.HB=mn("baseRetryDelayMs",5E3,O);this.rN=mn("retryDelaySeedMs",1E4,O);this.qG=mn("forwardChannelMaxRetries",2,O);this.fd=mn("forwardChannelRequestTimeoutMs",2E4,O);this.GK=O&&O.k25||void 0;this.tL=O&&O.Dql||void 0;this.yK=O&&O.oIw||!1;this.SB=void 0;this.ol=O&&O.jI||
!1;this.D="";this.j=new hjd(O&&O.PRL);this.MH=Math.min(O&&O.jcv||1E3,1E3);this.cB=new Maz;this.TL=O&&O.WiE||!1;this.PE=O&&O.ehX||!1;this.TL&&this.PE&&(this.PE=!1);this.MG=O&&O.yCj||!1;O&&O.uRW&&(this.dC=!1);this.oB=!this.TL&&this.dC&&O&&O.sX5||!1;this.Cs=void 0;O&&O.Er&&O.Er>0&&(this.Cs=O.Er);this.zL=void 0;this.Ty=0;this.cE=!1;this.BE=this.lw=null},B1=function(O){O.K&&($k(O),O.K.cancel(),O.K=null)},nQz=function(O){B1(O);
O.S&&(g.tr.clearTimeout(O.S),O.S=null);Rv(O);O.j.cancel();O.A&&(typeof O.A==="number"&&g.tr.clearTimeout(O.A),O.A=null)},Ob=function(O){oQE(O.j)||O.A||(O.A=!0,g.AX(O.BT,O),O.qX=0)},EQy=function(O,V){if(kw(O.j)>=O.j.D-(O.A?1:0))return!1;
if(O.A)return O.U=V.J.concat(O.U),!0;if(O.nE==1||O.nE==2||O.qX>=(O.Zs?0:O.qG))return!1;O.A=gK((0,g.Vs)(O.BT,O,V),XaC(O,O.qX));O.qX++;return!0},gQz=function(O,V){var J;
V?J=V.UR:J=O.xi++;const y=O.O5.clone();g.On(y,"SID",O.D);g.On(y,"RID",J);g.On(y,"AID",O.uw);HD(O,y);O.V&&O.T&&g.$C(y,O.V,O.T);J=new Qu(O,O.D,J,O.qX+1);O.V===null&&(J.O5=O.T);V&&(O.U=V.J.concat(O.U));V=d$C(O,J,O.MH);J.setTimeout(Math.round(O.fd*.5)+Math.round(O.fd*.5*Math.random()));DC(O.j,J);Ga(J,y,V)},HD=function(O,V){O.Xj&&g.ap(O.Xj,function(J,y){g.On(V,y,J)});
O.W&&g.ap({},function(J,y){g.On(V,y,J)})},d$C=function(O,V,J){J=Math.min(O.U.length,J);
const y=O.W?(0,g.Vs)(O.W.wg,O.W,O):null;a:{var l=O.U;let C=-1;for(;;){const F=["count="+J];C==-1?J>0?(C=l[0].K,F.push("ofs="+C)):C=0:F.push("ofs="+C);let N=!0;for(let x=0;x<J;x++){var m=l[x].K;const W=l[x].map;m-=C;if(m<0)C=Math.max(0,l[x].K-100),N=!1;else try{m="req"+m+"_"||"";try{var H=W instanceof Map?W:Object.entries(W);for(const [U,Z]of H){let T=Z;g.kY(Z)&&(T=g.eL(Z));F.push(m+U+"="+encodeURIComponent(T))}}catch(U){throw F.push(m+"type="+encodeURIComponent("_badmap")),U;}}catch(U){y&&y(W)}}if(N){H=
F.join("&");break a}}H=void 0}O=O.U.splice(0,J);V.J=O;return H},fBF=function(O){O.K||O.S||(O.Ks=1,g.AX(O.sQ,O),O.J=0)},P1=function(O){if(O.K||O.S||O.J>=3)return!1;
O.Ks++;O.S=gK((0,g.Vs)(O.sQ,O),XaC(O,O.J));O.J++;return!0},$k=function(O){O.lw!=null&&(g.tr.clearTimeout(O.lw),O.lw=null)},q6m=function(O){O.K=new Qu(O,O.D,"rpc",O.Ks);
O.V===null&&(O.K.O5=O.T);O.K.SB=0;var V=O.Jx.clone();g.On(V,"RID","rpc");g.On(V,"SID",O.D);g.On(V,"AID",O.uw);g.On(V,"CI",O.GL?"0":"1");!O.GL&&O.Cs&&g.On(V,"TO",O.Cs);g.On(V,"TYPE","xmlhttp");HD(O,V);O.V&&O.T&&g.$C(V,O.V,O.T);O.SB&&O.K.setTimeout(O.SB);var J=O.K;O=O.UR;J.uw=1;J.S=yu(V.clone());J.T=null;J.fD=!0;zj1(J,O)},Rv=function(O){O.KD!=null&&(g.tr.clearTimeout(O.KD),O.KD=null)},aBC=function(O,V){var J=null;
if(O.K==V){Rv(O);$k(O);O.K=null;var y=2}else if(iq(O.j,V))J=V.J,pay(O.j,V),y=1;else return;if(O.nE!=0)if(V.A)if(y==1){J=V.T?V.T.length:0;V=Date.now()-V.qX;var l=O.qX;y=X8();y.dispatchEvent(new U$F(y,J,V,l));Ob(O)}else fBF(O);else{var m=V.zL;l=V.getLastError();if(l==3||l==0&&m>0||!(y==1&&EQy(O,V)||y==2&&P1(O)))switch(J&&J.length>0&&(V=O.j,V.U=V.U.concat(J)),l){case 1:Sb(O,5);break;case 4:Sb(O,10);break;case 3:Sb(O,6);break;default:Sb(O,2)}}},XaC=function(O,V){let J=O.HB+Math.floor(Math.random()*O.rN);
O.isActive()||(J*=2);return J*V},Sb=function(O,V){if(V==2){var J=(0,g.Vs)(O.v3,O),y=O.tL;
const l=!y;y=new g.rC(y||"//www.google.com/images/cleardot.gif");g.tr.location&&g.tr.location.protocol=="http"||g.ik(y,"https");yu(y);l?vQz(y.toString(),J):waC(y.toString(),J)}else dK(2);O.nE=0;O.W&&O.W.p7(V);QVz(O);nQz(O)},QVz=function(O){O.nE=0;
O.BE=[];if(O.W){const V=Jk(O.j);if(V.length!=0||O.U.length!=0)g.nd(O.BE,V),g.nd(O.BE,O.U),O.j.U.length=0,g.Ld(O.U),O.U.length=0;O.W.e$()}},G7F=function(O){if(O.nE==0)return O.BE;
let V=[];g.nd(V,Jk(O.j));g.nd(V,O.U);return V},biF=function(O,V,J){var y=g.ZU(J);
y.K!=""?(V&&g.Rf(y,V+"."+y.K),g.BM(y,y.U)):(y=g.tr.location,y=LKF(y.protocol,V?V+"."+y.hostname:y.hostname,+y.port,J));V=O.fD;J=O.Nq;V&&J&&g.On(y,V,J);g.On(y,"VER",O.aV);HD(O,y);return y},cbn=function(O,V,J){if(V&&!O.ol)throw Error("Can't create secondary domain capable XhrIo object.");
V=O.yK&&!O.GK?new g.fZ(new g.Qf({JD:J})):new g.fZ(O.GK);V.V=O.ol;return V},Kzz=function(){},taz=function(){},CX=function(O,V){g.o5.call(this);
this.K=new LzW(V);this.A=O;this.j=V&&V.MW||null;O=V&&V.Yz||null;V&&V.nrl&&(O?O["X-Client-Protocol"]="webchannel":O={"X-Client-Protocol":"webchannel"});this.K.T=O;O=V&&V.PlL||null;V&&V.J5&&(O?O["X-WebChannel-Content-Type"]=V.J5:O={"X-WebChannel-Content-Type":V.J5});V&&V.UM&&(O?O["X-WebChannel-Client-Profile"]=V.UM:O={"X-WebChannel-Client-Profile":V.UM});this.K.s5=O;(O=V&&V.EpK)&&!g.Tv(O)&&(this.K.V=O);this.V=V&&V.jI||!1;this.W=V&&V.ME5||!1;(V=V&&V.sT)&&!g.Tv(V)&&(this.K.fD=V,g.O2(this.j,V)&&(O=this.j,
V in O&&delete O[V]));this.U=new jM(this)},u3m=function(O){LQ.call(this);
O.__headers__&&(this.headers=O.__headers__,this.statusCode=O.__status__,delete O.__headers__,delete O.__status__);const V=O.__sm__;V?this.data=(this.K=g.Bn(V))?g.$m(V,this.K):V:this.data=O},AbC=function(O){nQ.call(this);
this.status=1;this.errorCode=O},jM=function(O){this.K=O},F9=function(O,V){this.D=O;
this.K=V},Nf=function(O,V){if(typeof O!=="function")throw Error("Fn must not be null and must be a function");
return g.tr.setTimeout(function(){O()},V)},WD=function(){xk.dispatchEvent(new rbW)},Ub=function(O,V,J,y){this.K=O;
this.D=V;this.V=J;this.A=y||1;this.j=45E3;this.U=new g.Hw(this);this.W=new g.lL;this.W.setInterval(250)},RjF=function(O,V,J){O.mQ=1;
O.Dk=yu(V.clone());O.XM=J;O.fD=!0;iim(O,null)},ZX=function(O,V,J,y,l){O.mQ=1;
O.Dk=yu(V.clone());O.XM=null;O.fD=J;l&&(O.O_=!1);iim(O,y)},iim=function(O,V){O.XO=Date.now();
zy(O);O.lF=O.Dk.clone();lq(O.lF,"t",O.A);O.UH=0;O.WX=O.K.cG(O.K.uK()?V:null);O.xl>0&&(O.jc=new g.Du((0,g.Vs)(O.je,O,O.WX),O.xl));O.U.listen(O.WX,"readystatechange",O.xH);V=O.W0?g.jw(O.W0):{};O.XM?(O.RZ="POST",V["Content-Type"]="application/x-www-form-urlencoded",O.WX.send(O.lF,O.RZ,O.XM,V)):(O.RZ="GET",O.O_&&!g.Up&&(V.Connection="close"),O.WX.send(O.lF,O.RZ,null,V));O.K.N5(1)},PDW=function(O,V){var J=O.UH,y=V.indexOf("\n",J);
if(y==-1)return cD;J=Number(V.substring(J,y));if(isNaN(J))return B2s;y+=1;if(y+J>V.length)return cD;V=V.slice(y,y+J);O.UH=y+J;return V},zy=function(O){O.y3=Date.now()+O.j;
k7V(O,O.j)},k7V=function(O,V){if(O.NN!=null)throw Error("WatchDog timer not null");
O.NN=Nf((0,g.Vs)(O.LX,O),V)},S6F=function(O){O.NN&&(g.tr.clearTimeout(O.NN),O.NN=null)},sb=function(O){O.K.Ic()||O.v_||O.K.Q3(O)},Ty=function(O){S6F(O);
g.y$(O.jc);O.jc=null;O.W.stop();O.U.removeAll();if(O.WX){const V=O.WX;O.WX=null;V.abort();V.dispose()}O.d_&&(O.d_=null)},D$V=function(O,V){try{O.K.lP(O,V),O.K.N5(4)}catch(J){}},VIs=function(O,V,J,y,l){if(y==0)J(!1);
else{var m=l||0;y--;Oqm(O,V,function(H){H?J(!0):g.tr.setTimeout(function(){VIs(O,V,J,y,m)},m)})}},Oqm=function(O,V,J){const y=new Image;
y.onload=function(){try{eM(y),J(!0)}catch(l){}};
y.onerror=function(){try{eM(y),J(!1)}catch(l){}};
y.onabort=function(){try{eM(y),J(!1)}catch(l){}};
y.ontimeout=function(){try{eM(y),J(!1)}catch(l){}};
g.tr.setTimeout(function(){if(y.ontimeout)y.ontimeout()},V);
y.src=O},eM=function(O){O.onload=null;
O.onerror=null;O.onabort=null;O.ontimeout=null},JBd=function(O){this.K=O;
this.j=new lt},yBs=function(O){const V=IX(O.K,O.SY,"/mail/images/cleardot.gif");
yu(V);VIs(V.toString(),5E3,(0,g.Vs)(O.pH,O),3,2E3);O.N5(1)},aX=function(O){var V=O.K.A;
V!=null?(WD(),V?(WD(),Yk(O.K,O,!1)):(WD(),Yk(O.K,O,!0))):(O.CK=new Ub(O),O.CK.W0=O.Ih,V=O.K,V=IX(V,V.uK()?O.fV:null,O.S6),WD(),lq(V,"TYPE","xmlhttp"),ZX(O.CK,V,!1,O.fV,!1))},bt=function(O,V,J){this.K=1;
this.j=[];this.U=[];this.W=new lt;this.T=O||null;this.A=V!=null?V:null;this.S=J||!1},llV=function(O,V){this.K=O;
this.map=V;this.context=null},mqE=function(O,V,J,y){g.jJ.call(this,"timingevent",O);
this.size=V;this.rtt=J;this.retries=y},$qF=function(O){g.jJ.call(this,"serverreachability",O)},Hqz=function(O){O.yf(1,0);
O.DZ=IX(O,null,O.Ee);pX(O)},j_F=function(O){O.pG&&(O.pG.abort(),O.pG=null);
O.Mq&&(O.Mq.cancel(),O.Mq=null);O.hj&&(g.tr.clearTimeout(O.hj),O.hj=null);fX(O);O.pK&&(O.pK.cancel(),O.pK=null);O.Cc&&(g.tr.clearTimeout(O.Cc),O.Cc=null)},hk=function(O,V){if(O.K==0)throw Error("Invalid operation: sending map when state is closed");
O.j.push(new llV(O.cw++,V));O.K!=2&&O.K!=3||pX(O)},CTz=function(O){let V=0;
O.Mq&&V++;O.pK&&V++;return V},pX=function(O){O.pK||O.Cc||(O.Cc=Nf((0,g.Vs)(O.f7,O),0),O.J7=0)},Nqz=function(O,V){if(O.K==1){if(!V){O.Oz=Math.floor(Math.random()*1E5);
V=O.Oz++;const J=new Ub(O,"",V);J.W0=O.IK;const y=oX(O),l=O.DZ.clone();g.On(l,"RID",V);g.On(l,"CVER","1");vD(O,l);RjF(J,l,y);O.pK=J;O.K=2}}else O.K==3&&(V?FUs(O,V):O.j.length==0||O.pK||FUs(O))},FUs=function(O,V){if(V)if(O.O3>6){O.j=O.U.concat(O.j);
O.U.length=0;var J=O.Oz-1;V=oX(O)}else J=V.V,V=V.XM;else J=O.Oz++,V=oX(O);const y=O.DZ.clone();g.On(y,"SID",O.D);g.On(y,"RID",J);g.On(y,"AID",O.z9);vD(O,y);J=new Ub(O,O.D,J,O.J7+1);J.W0=O.IK;J.setTimeout(1E4+Math.round(1E4*Math.random()));O.pK=J;RjF(J,y,V)},vD=function(O,V){O.PK&&(O=O.PK.uP())&&g.ap(O,function(J,y){g.On(V,y,J)})},oX=function(O){const V=Math.min(O.j.length,1E3),J=["count="+V];
let y;O.O3>6&&V>0?(y=O.j[0].K,J.push("ofs="+y)):y=0;for(let l=0;l<V;l++){let m=O.j[l].K;const H=O.j[l].map;m=O.O3<=6?l:m-y;try{g.ap(H,function(C,F){J.push("req"+m+"_"+F+"="+encodeURIComponent(C))})}catch(C){J.push("req"+m+"_type="+encodeURIComponent("_badmap"))}}O.U=O.U.concat(O.j.splice(0,V));
return J.join("&")},xqI=function(O){O.Mq||O.hj||(O.V=1,O.hj=Nf((0,g.Vs)(O.U8,O),0),O.T9=0)},wY=function(O){if(O.Mq||O.hj||O.T9>=3)return!1;
O.V++;O.hj=Nf((0,g.Vs)(O.U8,O),WUn(O,O.T9));O.T9++;return!0},Yk=function(O,V,J){O.JV=O.A==null?J:!O.A;
O.w6=V.Bi;O.S||Hqz(O)},fX=function(O){O.Aq!=null&&(g.tr.clearTimeout(O.Aq),O.Aq=null)},WUn=function(O,V){let J=5E3+Math.floor(Math.random()*1E4);
O.isActive()||(J*=2);return J*V},Mf=function(O,V){if(V==2||V==9){var J=null;
O.PK&&(J=null);var y=(0,g.Vs)(O.Dz,O);J||(J=new g.rC("//www.google.com/images/cleardot.gif"),yu(J));Oqm(J.toString(),1E4,y)}else WD();UqI(O,V)},UqI=function(O,V){O.K=0;
O.PK&&O.PK.Dn(V);ZqC(O);j_F(O)},ZqC=function(O){O.K=0;
O.w6=-1;if(O.PK)if(O.U.length==0&&O.j.length==0)O.PK.nT();else{const V=g.Ld(O.U),J=g.Ld(O.j);O.U.length=0;O.j.length=0;O.PK.nT(V,J)}},IX=function(O,V,J){let y=g.ZU(J);
if(y.K!="")V&&g.Rf(y,V+"."+y.K),g.BM(y,y.U);else{const l=window.location;y=LKF(l.protocol,V?V+"."+l.hostname:l.hostname,+l.port,J)}O.dj&&g.ap(O.dj,function(l,m){g.On(y,m,l)});
g.On(y,"VER",O.O3);vD(O,y);return y},zLn=function(){},cBW=function(){this.K=[];
this.j=[]},s_E=function(O,V){this.action=O;
this.params=V||{}},LX=function(O,V){g.mz.call(this);
this.K=new g.ii(this.bS,0,this);g.M(this,this.K);this.bV=5E3;this.retryCount=this.PL=0;if(typeof O==="function")V&&(O=(0,g.Vs)(O,V));else if(O&&typeof O.handleEvent==="function")O=(0,g.Vs)(O.handleEvent,O);else throw Error("Invalid listener argument");this.j=O},nX=function(O,V,J=!1,y=()=>"",l=!1,m=!1,H=!1,C=()=>g.KM({}),F,N=!1,x=!1,W=!1,U,Z){this.GL=O;
this.qX=V;this.S=new g.fW;this.A=Z;this.j=(this.U=!!U)?U(()=>{this.Kl()}):new LX(this.Kl,this);
this.K=null;this.T=!1;this.J=null;this.fD="";this.lw=this.KD=0;this.D=[];this.BE=J;this.O5=y;this.V=m;this.ol=C;this.uw=F;this.Ks=H;this.Xj=null;this.W=g.KM();this.UR=l;this.zL=N;this.Ls=x;this.s5=W;this.PE=new Tqn;this.xi=new eLz;this.TL=new Ils;this.cE=new YWz;this.SB=new alm;this.dC=new bqF;this.oB=new pG1},fls=function(O,V,J,y,l){X9(O);
if(O.K){const m=g.Q("ID_TOKEN"),H=O.K.IK||{};m?H["x-youtube-identity-token"]=m:delete H["x-youtube-identity-token"];O.K.IK=H}Eb(O);y?(y.getState()!=3&&CTz(y)==0||y.getState(),O.K.connect(V,J,O.qX,y.D,y.z9)):l?O.K.connect(V,J,O.qX,l.sessionId,l.arrayId):O.K.connect(V,J,O.qX);O.U&&!O.j.isActive()&&O.j.start();O.A&&O.A.vIL()},v9E=function(O,V){return O.Ls?!0:O.zL?!Object.values(hLn).includes(V):O.s5?Object.values(o9s).includes(V):!1},wG1=async function(O){try{await dY(O)}finally{var V=O.D;
O.D=[];var J=V;V=V.length;for(let y=0;y<V;++y)hk(O.K,J[y]);gY(O);gY(O)}},gY=function(O){O.publish("handlerOpened");
O.PE.K("BROWSER_CHANNEL")},X9=function(O){if(O.K){const V=O.O5(),J=O.K.IK||{};
V?J["x-youtube-lounge-xsrf-token"]=V:delete J["x-youtube-lounge-xsrf-token"];O.K.IK=J}},dY=function(O){if(!O.Ks)return MIm(O);
O.Xj===null&&(O.Xj=MIm(O));return O.Xj},MIm=function(O){return g.BP(O.ol().then(V=>{LUV(O,V)}).EC(()=>{}),()=>{O.Xj=null})},LUV=function(O,V){if(O.K){let J=O.K.IK||{};
V&&Object.keys(V).length>0?J={...J,...V}:delete J.Authorization;O.K.IK=J}},Eb=function(O){O.uw&&!O.V&&LUV(O,O.uw())},qf=function(O){this.scheme="https";
this.port=this.domain="";this.K="/api/lounge";this.j=!0;O=O||document.location.href;const V=Number(g.jD(O)[4]||null)||"";V&&(this.port=":"+V);this.domain=g.FM(O)||"";O=g.b2();O.search("MSIE")>=0&&(O=O.match(/MSIE ([\d.]+)/)[1],g.ad(O,"10.0")<0&&(this.j=!1))},Q3=function(O,V){let J=O.K;
O.j&&(J=O.scheme+"://"+O.domain+O.port+O.K);return g.eD(J+V,{})},n9z=function(O){g.cP(O.channel,"m",()=>{O.A=3;
O.U.reset();O.S=null;O.V=0;for(const V of O.J)O.channel&&O.channel.send(V);O.J=[];O.publish("webChannelOpened");O.O5.K("WEB_CHANNEL")});
g.cP(O.channel,"n",()=>{O.A=0;O.U.isActive()||O.publish("webChannelClosed");const V=O.channel?.D().U();V&&(O.J=[...V]);O.lw.K("WEB_CHANNEL")});
g.cP(O.channel,"p",V=>{const J=V.data;J[0]==="gracefulReconnect"?(O.U.start(),O.channel&&O.channel.close()):O.publish("webChannelMessage",new s_E(J[0],J[1]));O.O7=V.statusCode;O.Xj.K("WEB_CHANNEL")});
g.cP(O.channel,"o",()=>{O.O7===401||O.U.start();O.publish("webChannelError");O.fD.K("WEB_CHANNEL","")})},Gy=function(O){const V=O.qX();
V?O.D["x-youtube-lounge-xsrf-token"]=V:delete O.D["x-youtube-lounge-xsrf-token"]},g9I=function(O,V,J=()=>"",y,l){const m=()=>new nX(Q3(O,"/bc"),V,!1,J,y);
return g.d9("enable_mdx_web_channel_desktop")?new XGF(()=>new E9D(Q3(O,"/wc"),V,J)):new dqd(m,l)},KUz=function(){var O=qWF;
Q_1();KX.push(O);GpD()},tk=function(O,V){Q_1();
const J=tId(O,String(V));KX.length==0?uuD(J):(GpD(),g.zD(KX,function(y){y(J)}))},ut=function(O){tk("CP",O)},Q_1=function(){KX||(KX=g.Ar("yt.mdx.remote.debug.handlers_")||[],g.uX("yt.mdx.remote.debug.handlers_",KX))},uuD=function(O){const V=(Ak+1)%50;
Ak=V;rY[V]=O;RX||(RX=V==49)},GpD=function(){var O=KX;
if(rY[0]){var V=RX?Ak:-1;do{V=(V+1)%50;const J=rY[V];g.zD(O,function(y){y(J)})}while(V!=Ak);
rY=Array(50);Ak=-1;RX=!1}},tId=function(O,V){let J=(Date.now()-ABD)/1E3;
J.toFixed&&(J=J.toFixed(3));const y=[];y.push("[",J+"s","] ");y.push("[","yt.mdx.remote","] ");y.push(O+": "+V,"\n");return y.join("")},BD=function(O){g.OB.call(this);
this.A=O;this.screens=[]},rBV=function(O,V){const J=O.get(V.uuid)||O.get(V.id);
if(J)return O=J.name,J.id=V.id||J.id,J.name=V.name,J.token=V.token,J.uuid=V.uuid||J.uuid,J.name!=O;O.screens.push(V);return!0},iqd=function(O,V){let J=O.screens.length!=V.length;
O.screens=g.sz(O.screens,function(l){return!!za(V,l)});
const y=V.length;for(let l=0;l<y;l++)J=rBV(O,V[l])||J;return J},RLd=function(O,V){const J=O.screens.length;
O.screens=g.sz(O.screens,function(y){return!(y||V?!y!=!V?0:y.id==V.id:1)});
return O.screens.length<J},kk=function(O){BD.call(this,"LocalScreenService");
this.j=O;this.K=NaN;PD(this);this.info("Initializing with "+UY(this.screens))},BqV=function(O){if(O.screens.length){const V=g.TD(O.screens,function(y){return y.id}),J=Q3(O.j,"/pairing/get_lounge_token_batch");
O.j.sendRequest("POST",J,{screen_ids:V.join(",")},(0,g.Vs)(O.Hp,O),(0,g.Vs)(O.bd,O))}},PD=function(O){if(g.d9("deprecate_pair_servlet_enabled"))return iqd(O,[]);
var V=tDy(BfE());V=g.sz(V,function(J){return!J.uuid});
return iqd(O,V)},SM=function(O,V){kOW(g.TD(O.screens,GOD));
V&&PIz()},DX=function(O){tk("OnlineScreenService",O)},Or=function(O){isNaN(O.U)||g.nH(O.U);
O.U=g.MV((0,g.Vs)(O.V,O),O.D>0&&O.D<g.mC()?2E4:1E4)},Vi=function(O,V){a:if(mF(V)!=mF(O.K))var J=!1;
else{J=g.SF(V);var y=J.length;for(let l=0;l<y;++l)if(!O.K[J[l]]){J=!1;break a}J=!0}J||(DX("Updated online screens: "+g.eL(O.K)),O.K=V,O.publish("screenChange"));PTm(O)},Jf=function(O,V,J){const y=Q3(O.W,"/pairing/get_screen_availability");
O.W.sendRequest("POST",y,{lounge_token:V.token},(0,g.Vs)(function(l){l=l.screens||[];const m=l.length;for(let H=0;H<m;++H)if(l[H].loungeToken==V.token){J(l[H].status=="online");return}J(!1)},O),(0,g.Vs)(function(){J(!1)},O))},PTm=function(O){O=g.SF(g.rV(O.K,function(V){return V}));
g.Kd(O);O.length?g.Dj("yt-remote-online-screen-ids",O.join(","),60):g.V2("yt-remote-online-screen-ids")},kpW=function(O){const V={};
g.zD(O.A(),function(J){J.token?V[J.token]=J.id:this.ej("Requesting availability of screen w/o lounge token.")});
return V},yi=function(O,V=!1){BD.call(this,"ScreenService");
this.D=O;this.V=V;this.K=this.j=null;this.U=[];this.W={};SWz(this)},O3y=function(O,V,J,y,l,m){O.info("getAutomaticScreenByIds "+J+" / "+V);
J||(J=O.W[V]);const H=O.aW();let C=J?c1(H,J):null;J&&(O.V||C)||(C=c1(H,V));if(C){C.uuid=V;const F=l5(O,C);Jf(O.K,F,function(N){l(N?F:null)})}else J?Dqz(O,J,(0,g.Vs)(function(F){const N=l5(this,new NG({name:y,
screenId:J,loungeToken:F,dialId:V||""}));Jf(this.K,N,function(x){l(x?N:null)})},O),m):l(null)},VTz=function(O,V){const J=O.screens.length;
for(let y=0;y<J;++y)if(O.screens[y].name==V)return O.screens[y];return null},JFn=function(O,V,J){Jf(O.K,V,J)},Dqz=function(O,V,J,y){O.info("requestLoungeToken_ for "+V);
const l={postParams:{screen_ids:V},method:"POST",context:O,onSuccess:function(m,H){m=H&&H.screens||[];m[0]&&m[0].screenId==V?J(m[0].loungeToken):y(Error("Missing lounge token in token response"))},
onError:function(){y(Error("Request screen lounge token failed"))}};
g.tD(Q3(O.D,"/pairing/get_lounge_token_batch"),l)},yFn=function(O){O.screens=O.j.aW();
var V=O.W;const J={};for(var y in V)J[V[y]]=y;V=O.screens.length;for(y=0;y<V;++y){const l=O.screens[y];l.uuid=J[l.id]||""}O.info("Updated manual screens: "+UY(O.screens))},SWz=function(O){mu(O);
O.j=new kk(O.D);O.j.subscribe("screenChange",(0,g.Vs)(O.Tl,O));yFn(O);O.V||(O.U=tDy(g.OZ("yt-remote-automatic-screen-cache")||[]));mu(O);O.info("Initializing automatic screens: "+UY(O.U));O.K=new lWd(O.D,(0,g.Vs)(O.aW,O,!0));O.K.subscribe("screenChange",(0,g.Vs)(function(){this.publish("onlineScreenChange")},O))},l5=function(O,V){var J=O.get(V.id);
J?(J.uuid=V.uuid,V=J):((J=c1(O.U,V.uuid))?(J.id=V.id,J.token=V.token,V=J):O.U.push(V),O.V||mUz(O));mu(O);O.W[V.uuid]=V.id;g.Dj("yt-remote-device-id-map",O.W,31536E3);return V},mUz=function(O){O=g.sz(O.U,V=>V.idType!="shortLived");
g.Dj("yt-remote-automatic-screen-cache",g.TD(O,GOD))},mu=function(O){O.W=g.OZ("yt-remote-device-id-map")||{}},$0=function(O,V,J){g.OB.call(this);
this.fD=J;this.D=O;this.j=V;this.K=null},H4=function(O,V){O.K=V;
O.publish("sessionScreen",O.K)},$Uy=function(O,V){O.K&&(O.K.token=V,l5(O.D,O.K));
O.publish("sessionScreen",O.K)},jO=function(O,V){tk(O.fD,V)},j8E=function(O,V){g.nH(O.KD);
O.KD=0;V?O.config_.enableCastLoungeToken&&V.loungeToken?V.deviceId?O.K&&O.K.uuid==V.deviceId||(V.loungeTokenRefreshIntervalMs?H3z(O,{name:O.j.friendlyName,screenId:V.screenId,loungeToken:V.loungeToken,dialId:V.deviceId,screenIdType:"shortLived"},V.loungeTokenRefreshIntervalMs):(g.jA(Error(`No loungeTokenRefreshIntervalMs presents in mdxSessionStatusData: ${JSON.stringify(V)}.`)),Cl(O,V.screenId))):(g.jA(Error(`No device id presents in mdxSessionStatusData: ${JSON.stringify(V)}.`)),Cl(O,V.screenId)):
Cl(O,V.screenId):O.Lw(Error("Waiting for session status timed out."))},CFn=function(O){g.nH(O.T);
O.T=0;g.nH(O.V);O.V=0;g.nH(O.KD);O.KD=0;g.nH(O.W);O.W=0;g.nH(O.S);O.S=0},FSE=function(O,V){O.info("sendYoutubeMessage_: "+V+" "+g.eL());
const J={};J.type=V;O.U?O.U.sendMessage("urn:x-cast:com.google.youtube.mdx",J,()=>{},(0,g.Vs)(function(){jO(this,"Failed to send message: "+V+".")},O)):jO(O,"Sending yt message without session: "+g.eL(J))},xUs=function(O){FSE(O,"getLoungeToken");
g.nH(O.W);O.W=g.MV(()=>{N4z(O,null)},3E4)},FJ=function(O,V){g.nH(O.S);
O.S=0;V==0?xUs(O):O.S=g.MV(()=>{xUs(O)},V)},N4z=function(O,V){g.nH(O.W);
O.W=0;let J=null;V?V.loungeToken?O.K?.token==V.loungeToken&&(J="staleLoungeToken"):J="missingLoungeToken":J="noLoungeTokenResponse";J?(O.info("Did not receive a new lounge token in onLoungeToken_ with "+`data: ${JSON.stringify(V)}, error: ${J}`),FJ(O,3E4)):($Uy(O,V.loungeToken),FJ(O,V.loungeTokenRefreshIntervalMs))},Cl=function(O,V){V?(O.info("onConnectedScreenId_: Received screenId: "+V),O.K&&O.K.id==V||O.Xj(V,J=>{H4(O,J)},()=>O.Lw(),5)):O.Lw(Error("Waiting for session status timed out."))},WSz=
function(O,V,J,y){g.nH(O.V);
O.V=0;JFn(O.D,V,l=>{l||y<0?J(l):O.V=g.MV(()=>{WSz(O,V,J,y-1)},300)})},H3z=function(O,V,J){O.info(`onConnectedScreenData_: Received screenData: ${JSON.stringify(V)}`);
const y=new NG(V);WSz(O,y,l=>{l?(l5(O.D,y),H4(O,y),FJ(O,J)):(g.jA(Error(`CastSession, RemoteScreen from screenData: ${JSON.stringify(V)} is not online.`)),O.Lw())},5)},NC=function(O){return new Promise(V=>{O.qX=ZC();
if(O.O5){const J=new chrome.cast.DialLaunchResponse(!0,UUD(O));V(J);Z3I(O)}else O.J=()=>{g.nH(O.KD);O.J=()=>{};
O.KD=NaN;const J=new chrome.cast.DialLaunchResponse(!0,UUD(O));V(J);Z3I(O)},O.KD=g.MV(()=>{O.J()},100)})},zhI=function(O){g.nH(O.V);
O.V=0;g.nH(O.S);O.S=0;O.W();O.W=()=>{};
g.nH(O.KD)},x0=function(O){return!(!O.config_.enableDialLoungeToken||!O.U?.getDialAppInfo)},W4=function(O,V){O.info(`getDialAppInfoWithTimeout_ ${V}`);
x0(O)&&(g.nH(O.S),O.S=0,V==0?cFn(O):O.S=g.MV(()=>{cFn(O)},V))},Z3I=function(O){O.W=O.D.O8(O.qX,O.j.label,O.j.friendlyName,x0(O),(V,J)=>{O.W=()=>{};
H4(O,V);V.idType=="shortLived"&&J>0&&W4(O,J)},V=>{O.W=()=>{};
O.Lw(V)})},UUD=function(O){var V={};
V.pairingCode=O.qX;V.theme=O.uw;DxC()&&(V.env_useStageMdx=1);return g.TO(V)},s8V=function(O,V){const J=O.T.receiver.label,y=O.j.friendlyName;
return(new Promise(l=>{O3y(O.D,J,V,y,m=>{m&&m.token&&H4(O,m);l(m)},m=>{jO(O,"Failed to get DIAL screen: "+m);
l(null)})})).then(l=>l&&l.token?new chrome.cast.DialLaunchResponse(!1):NC(O))},ehW=function(O,V,J){O.info(`initOnConnectedScreenDataPromise_: Received screenData: ${JSON.stringify(V)}`);
const y=new NG(V);return(new Promise(l=>{T4E(O,y,m=>{m?(l5(O.D,y),H4(O,y),W4(O,J)):g.jA(Error(`DialSession, RemoteScreen from screenData: ${JSON.stringify(V)} is not online.`));l(m)},5)})).then(l=>l?new chrome.cast.DialLaunchResponse(!1):NC(O))},T4E=function(O,V,J,y){g.nH(O.V);
O.V=0;JFn(O.D,V,l=>{l||y<0?J(l):O.V=g.MV(()=>{T4E(O,V,J,y-1)},300)})},cFn=function(O){x0(O)&&O.U.getDialAppInfo(V=>{O.info(`getDialAppInfo dialLaunchData: ${JSON.stringify(V)}`);
V=V.extraData||{};let J=null;V.loungeToken?O.K?.token==V.loungeToken&&(J="staleLoungeToken"):J="missingLoungeToken";J?W4(O,3E4):($Uy(O,V.loungeToken),W4(O,V.loungeTokenRefreshIntervalMs))},V=>{O.info(`getDialAppInfo error: ${V}`);
W4(O,3E4)})},qWF=function(O){window.chrome&&chrome.cast&&chrome.cast.logMessage&&chrome.cast.logMessage(O)},YTF=function(O){const V=O.j.dT();
let J=O.K&&O.K.j;O=g.TD(V,function(y){J&&xw(y,J.label)&&(J=null);const l=y.uuid?y.uuid:y.id;let m=IW1(this,y);m?(m.label=l,m.friendlyName=y.name):(m=new chrome.cast.Receiver(l,y.name),m.receiverType=chrome.cast.ReceiverType.CUSTOM);return m},O);
J&&(J.receiverType!=chrome.cast.ReceiverType.CUSTOM&&(J=new chrome.cast.Receiver(J.label,J.friendlyName),J.receiverType=chrome.cast.ReceiverType.CUSTOM),O.push(J));return O},Ur=function(O){return O.S||!!O.U.length||!!O.K},Zc=function(O){tk("Controller",O)},zZ=function(O,V,J){V!=O.K&&(g.y$(O.K),(O.K=V)?(J?O.publish("yt-remote-cast2-receiver-resumed",V.j):O.publish("yt-remote-cast2-receiver-selected",V.j),V.subscribe("sessionScreen",(0,g.Vs)(O.KD,O,V)),V.subscribe("sessionFailed",()=>aWV(O,V)),V.K?
O.publish("yt-remote-cast2-session-change",V.K):J&&O.K.A(null)):O.publish("yt-remote-cast2-session-change",null))},IW1=function(O,V){return V?g.bm(O.U,function(J){return xw(V,J.label)},O):null},aWV=function(O,V){O.K==V&&O.publish("yt-remote-cast2-session-failed")},vSd=function(O,V,J,y){y.disableCastApi?c4("Cannot initialize because disabled by Mdx config."):b3y()?pus(V,y)&&(sr(!0),window.chrome&&chrome.cast&&chrome.cast.isAvailable?fWy(O,J):(window.__onGCastApiAvailable=function(l,m){l?fWy(O,J):(TZ("Failed to load cast API: "+
m),eO(!1),sr(!1),g.V2("yt-remote-cast-available"),g.V2("yt-remote-cast-receiver"),hhD(),J(!1))},y.loadCastApiSetupScript?g.yb(oSz):window.navigator.userAgent.indexOf("Android")>=0&&window.navigator.userAgent.indexOf("Chrome/")>=0&&window.navigator.presentation?pQ()>=60&&$$E():!window.chrome||!window.navigator.presentation||window.navigator.userAgent.indexOf("Edge")>=0?hv():pQ()>=89?jV1():(ov(),fQ(Hiz.map(ybz))))):c4("Cannot initialize because not running Chrome")},hhD=function(){c4("dispose");
const O=IK();O&&O.dispose();g.uX("yt.mdx.remote.cloudview.instance_",null);wum(!1);g.Vb(Y0);Y0.length=0},aK=function(){return!!g.OZ("yt-remote-cast-installed")},MTm=function(){const O=g.OZ("yt-remote-cast-receiver");
return O?O.friendlyName:null},LS1=function(){c4("clearCurrentReceiver");
g.V2("yt-remote-cast-receiver")},nSV=function(){return aK()?IK()?IK().getCastSession():(TZ("getCastSelector: Cast is not initialized."),null):(TZ("getCastSelector: Cast API is not installed!"),null)},pl=function(){aK()?IK()?b5()?(c4("Requesting cast selector."),IK().requestSession()):(c4("Wait for cast API to be ready to request the session."),Y0.push(g.OF("yt-remote-cast2-api-ready",pl))):TZ("requestCastSelector: Cast is not initialized."):TZ("requestCastSelector: Cast API is not installed!")},fl=
function(O,V){b5()?IK().setConnectedScreenStatus(O,V):TZ("setConnectedScreenStatus called before ready.")},b3y=function(){var O=g.b2().search(/ (CrMo|Chrome|CriOS)\//)>=0;
return g.Bb||O},Xus=function(O,V){IK().init(O,V)},pus=function(O,V){let J=!1;
IK()||(O=new hf(O,V),O.subscribe("yt-remote-cast2-availability-change",function(y){g.Dj("yt-remote-cast-available",y);bq("yt-remote-cast2-availability-change",y)}),O.subscribe("yt-remote-cast2-receiver-selected",function(y){c4("onReceiverSelected: "+y.friendlyName);
g.Dj("yt-remote-cast-receiver",y);bq("yt-remote-cast2-receiver-selected",y)}),O.subscribe("yt-remote-cast2-receiver-resumed",function(y){c4("onReceiverResumed: "+y.friendlyName);
g.Dj("yt-remote-cast-receiver",y);bq("yt-remote-cast2-receiver-resumed",y)}),O.subscribe("yt-remote-cast2-session-change",function(y){c4("onSessionChange: "+W1(y));
y||g.V2("yt-remote-cast-receiver");bq("yt-remote-cast2-session-change",y)}),g.uX("yt.mdx.remote.cloudview.instance_",O),J=!0);
c4("cloudview.createSingleton_: "+J);return J},IK=function(){return g.Ar("yt.mdx.remote.cloudview.instance_")},fWy=function(O,V){eO(!0);
sr(!1);Xus(O,function(J){J?(wum(!0),g.JV("yt-remote-cast2-api-ready")):(TZ("Failed to initialize cast API."),eO(!1),g.V2("yt-remote-cast-available"),g.V2("yt-remote-cast-receiver"),hhD());V(J)})},c4=function(O){tk("cloudview",O)},TZ=function(O){tk("cloudview",O)},eO=function(O){c4("setCastInstalled_ "+O);
g.Dj("yt-remote-cast-installed",O)},b5=function(){return!!g.Ar("yt.mdx.remote.cloudview.apiReady_")},wum=function(O){c4("setApiReady_ "+O);
g.uX("yt.mdx.remote.cloudview.apiReady_",O)},sr=function(O){g.uX("yt.mdx.remote.cloudview.initializing_",O)},oK=function(O){this.index=-1;
this.videoId=this.listId="";this.volume=this.playerState=-1;this.muted=!1;this.audioTrackId=null;this.W=this.A=0;this.trackData=null;this.hasNext=this.hasPrevious=!1;this.loadedTime=this.U=this.V=this.j=0;this.K=NaN;this.D=!1;this.reset(O)},v4=function(O){O.audioTrackId=null;
O.trackData=null;O.playerState=-1;O.hasPrevious=!1;O.hasNext=!1;O.A=0;O.W=g.mC();O.j=0;O.V=0;O.U=0;O.loadedTime=0;O.K=NaN;O.D=!1},wD=function(O){return O.isPlaying()?(g.mC()-O.W)/1E3:0},MC=function(O,V){O.A=V;
O.W=g.mC()},Ll=function(O){switch(O.playerState){case 1:case 1081:return(g.mC()-O.W)/1E3+O.A;
case -1E3:return 0}return O.A},ESs=function(O){return O.D?O.V+wD(O):O.V},nl=function(O,V,J){const y=O.videoId;
O.videoId=V;O.index=J;V!=y&&v4(O)},XJ=function(O){const V={};
V.index=O.index;V.listId=O.listId;V.videoId=O.videoId;V.playerState=O.playerState;V.volume=O.volume;V.muted=O.muted;V.audioTrackId=O.audioTrackId;V.trackData=g.Cu(O.trackData);V.hasPrevious=O.hasPrevious;V.hasNext=O.hasNext;V.playerTime=O.A;V.playerTimeAt=O.W;V.seekableStart=O.j;V.seekableEnd=O.V;V.duration=O.U;V.loadedTime=O.loadedTime;V.liveIngestionTime=O.K;return V},dUV=function(O){g.zD("nowAutoplaying autoplayDismissed remotePlayerChange remoteQueueChange autoplayModeChange autoplayUpNext previousNextChange multiStateLoopEnabled loopModeChange".split(" "),
function(V){this.V.push(this.D.subscribe(V,g.lm(this.ol,V),this))},O)},Er=function(O,V){O.j&&(O.j.removeUpdateListener(O.J),O.j.removeMediaListener(O.T),O.A(null));
O.j=V;O.j&&(ut("Setting cast session: "+O.j.sessionId),O.j.addUpdateListener(O.J),O.j.addMediaListener(O.T),O.j.media.length&&O.A(O.j.media[0]))},dD=function(O){return new oK(O.D.getPlayerContextData())},gD=function(O){return O.getState()==1},Qi=function(O,V,J){return(0,g.Vs)(function(y){this.ej("Failed to "+V+" with cast v2 channel. Error code: "+y.code);
y.code!=chrome.cast.ErrorCode.TIMEOUT&&(this.ej("Retrying "+V+" using MDx browser channel."),qC(this,V,J))},O)},qC=function(O,V,J){O.D.sendMessage(V,J)},Kl=function(O,V,J){const y=dD(O);
MC(y,J);y.playerState!=-1E3&&(y.playerState=V);GZ(O,y)},tf=function(O,V){var J=O.W;
J.K.length+J.j.length<50&&O.W.enqueue(V)},GZ=function(O,V){gSz(O);
O.D.setPlayerContextData(XJ(V));dUV(O)},gSz=function(O){g.zD(O.V,function(V){this.D.unsubscribeByKey(V)},O);
O.V.length=0},qTC=function(O){const V=O.K.media,J=O.K.customData;
if(V&&J){var y=dD(O);V.contentId!=y.videoId&&ut("Cast changing video to: "+V.contentId);y.videoId=V.contentId;y.playerState=J.playerState;MC(y,O.K.getEstimatedTime());GZ(O,y)}else ut("No cast media video. Ignoring state update.")},Q8m=function(O){u5("Channel opened");
O.Xj&&(O.Xj=!1,Af(O),O.fD=g.MV(()=>{u5("Timing out waiting for a screen.");O.V(1)},15E3))},STV=function(O,V){V=V.message;
V.params?u5("Received: action="+V.action+", params="+g.eL(V.params)):u5("Received: action="+V.action+" {}");switch(V.action){case "loungeStatus":V=$w(V.params.devices);O.U=g.TD(V,function(y){return new F8(y)});
V=!!g.bm(O.U,function(y){return y.type=="LOUNGE_SCREEN"});
GFz(O,V);V=O.xi("mlm");O.publish("multiStateLoopEnabled",V);break;case "loungeScreenDisconnected":g.wV(O.U,function(y){return y.type=="LOUNGE_SCREEN"});
GFz(O,!1);break;case "remoteConnected":let J=new F8($w(V.params.device));g.bm(O.U,function(y){return y.equals(J)})||wly(O.U,J);
break;case "remoteDisconnected":J=new F8($w(V.params.device));g.wV(O.U,function(y){return y.equals(J)});
break;case "gracefulDisconnect":break;case "playlistModified":KS1(O,V,"QUEUE_MODIFIED");break;case "nowPlaying":tTz(O,V);break;case "onStateChange":ukz(O,V);break;case "onAdStateChange":AFn(O,V);break;case "onVolumeChanged":rFd(O,V);break;case "onSubtitlesTrackChanged":i3n(O,V);break;case "nowAutoplaying":Rhy(O,V);break;case "autoplayDismissed":O.publish("autoplayDismissed");break;case "autoplayUpNext":B4F(O,V);break;case "onAutoplayModeChanged":PFz(O,V);break;case "onHasPreviousNextChanged":kFz(O,
V);break;case "requestAssistedSignIn":O.publish("assistedSignInRequested",V.params.authCode);break;case "onLoopModeChanged":O.publish("loopModeChange",V.params.loopMode);break;default:u5("Unrecognized action: "+V.action)}},u5=function(O){tk("conn",O)},DUI=function(O){O.A=g.MV(()=>{u5("Connecting timeout");
O.V(1)},2E4)},rD=function(O,V){O.publish("proxyStateChange",V)},i5=function(O){g.nH(O.A);
O.A=NaN},RK=function(O){g.nH(O.lw);
O.lw=NaN},Af=function(O){g.nH(O.fD);
O.fD=NaN},OMs=function(O){return g.bm(O.U,function(V){return V.type=="LOUNGE_SCREEN"})},B4=function(O,V,J){J?u5("Sending: action="+V+", params="+g.eL(J)):u5("Sending: action="+V);
O.j.sendMessage(V,J)},VJW=function(O){RK(O);
O.lw=g.MV(()=>{B4(O,"getNowPlaying")},2E4)},JXC=function(O){g.nH(O.J);
O.J=g.MV(()=>{O.V(1)},864E5)},GFz=function(O,V){var J=null;
if(V){const y=OMs(O);y&&(J={clientName:y.clientName,deviceMake:y.brand,deviceModel:y.model,osVersion:y.osVersion})}g.uX("yt.mdx.remote.remoteClient_",J);V&&(i5(O),Af(O));J=O.j.UJ()&&isNaN(O.A);V==J?V&&(rD(O,1),B4(O,"getSubtitlesTrack")):V?(O.GL()&&O.K.reset(),rD(O,1),B4(O,"getNowPlaying"),JXC(O)):O.V(1)},i3n=function(O,V){const J=V.params.videoId;
delete V.params.videoId;J==O.K.videoId&&(g.l2(V.params)?O.K.trackData=null:O.K.trackData=V.params,O.publish("remotePlayerChange"))},KS1=function(O,V,J){const y=V.params.videoId||V.params.video_id,l=parseInt(V.params.currentIndex,10);
O.K.listId=V.params.listId||O.K.listId;nl(O.K,y,l);O.publish("remoteQueueChange",J)},ukz=function(O,V){var J=parseInt(V.params.currentTime||V.params.current_time,10);
MC(O.K,isNaN(J)?0:J);J=parseInt(V.params.state,10);J=isNaN(J)?-1:J;J==-1&&O.K.playerState==-1E3&&(J=-1E3);O.K.playerState=J;J=Number(V.params.loadedTime);O.K.loadedTime=isNaN(J)?0:J;O.K.AR(Number(V.params.duration));J=O.K;var y=Number(V.params.liveIngestionTime);J.K=y;J.D=isNaN(y)?!1:!0;J=O.K;y=Number(V.params.seekableStartTime);V=Number(V.params.seekableEndTime);J.j=isNaN(y)?0:y;J.V=isNaN(V)?0:V;O.K.playerState==1?VJW(O):RK(O);O.publish("remotePlayerChange")},tTz=function(O,V){V.params=V.params||
{};
KS1(O,V,"NOW_PLAYING_MAY_CHANGE");ukz(O,V);O.publish("autoplayDismissed")},AFn=function(O,V){if(O.K.playerState!=-1E3){var J=1085;
switch(parseInt(V.params.adState,10)){case 1:J=1081;break;case 2:J=1084;break;case 0:J=1083}O.K.playerState=J;V=parseInt(V.params.currentTime,10);MC(O.K,isNaN(V)?0:V);O.publish("remotePlayerChange")}},rFd=function(O,V){const J=V.params.muted=="true";
O.K.volume=parseInt(V.params.volume,10);O.K.muted=J;O.publish("remotePlayerChange")},Rhy=function(O,V){O.S=V.params.videoId;
O.publish("nowAutoplaying",parseInt(V.params.timeout,10))},B4F=function(O,V){O.S=V.params.videoId||null;
O.publish("autoplayUpNext",O.S)},PFz=function(O,V){O.W=V.params.autoplayMode;
O.publish("autoplayModeChange",O.W);O.W=="DISABLED"&&O.publish("autoplayDismissed")},kFz=function(O,V){const J=V.params.hasNext=="true";
O.K.hasPrevious=V.params.hasPrevious=="true";O.K.hasNext=J;O.publish("previousNextChange")},$Ed=function(O,V){SLs();
if(!av||!av.get("yt-remote-disable-remote-module-for-dev")){V=g.Q("MDX_CONFIG")||V;A6s();Iv();P4||(P4=new qf(V?V.loungeApiHost:void 0),DxC()&&(P4.K="/api/loungedev"));k0||(k0=g.Ar("yt.mdx.remote.deferredProxies_")||[],g.uX("yt.mdx.remote.deferredProxies_",k0));yXy();var J=SO();if(!J){const l=new yi(P4,V?V.disableAutomaticScreenCache||!1:!1);g.uX("yt.mdx.remote.screenService_",l);J=SO();var y={};V&&(y={appId:V.appId,disableDial:V.disableDial,theme:V.theme,loadCastApiSetupScript:V.loadCastApiSetupScript,
disableCastApi:V.disableCastApi,enableDialLoungeToken:V.enableDialLoungeToken,enableCastLoungeToken:V.enableCastLoungeToken,forceMirroring:V.forceMirroring});g.uX("yt.mdx.remote.enableConnectWithInitialState_",V?V.enableConnectWithInitialState||!1:!1);vSd(O,l,function(m){m?Dc()&&fl(Dc(),"YouTube TV"):l.subscribe("onlineScreenChange",function(){bq("yt-remote-receiver-availability-change")})},y)}V&&!g.Ar("yt.mdx.remote.initialized_")&&(g.uX("yt.mdx.remote.initialized_",!0),Ov("Initializing: "+g.eL(V)),
VZ.push(g.OF("yt-remote-cast2-api-ready",function(){bq("yt-remote-api-ready")})),VZ.push(g.OF("yt-remote-cast2-availability-change",function(){bq("yt-remote-receiver-availability-change")})),VZ.push(g.OF("yt-remote-cast2-receiver-selected",function(){Jl(null);
bq("yt-remote-auto-connect","cast-selector-receiver")})),VZ.push(g.OF("yt-remote-cast2-receiver-resumed",function(){bq("yt-remote-receiver-resumed","cast-selector-receiver")})),VZ.push(g.OF("yt-remote-cast2-session-change",lNm)),VZ.push(g.OF("yt-remote-connection-change",function(l){l?fl(Dc(),"YouTube TV"):yZ()||(fl(null,null),LS1())})),VZ.push(g.OF("yt-remote-cast2-session-failed",()=>{bq("yt-remote-connection-failed")})),O=lP(),V.isAuto&&(O.id+="#dial"),y=V.capabilities||[],y.length>0&&(O.capabilities=
y),O.name=V.device,O.app=V.app,(V=V.theme)&&(O.theme=V),Ov(" -- with channel params: "+g.eL(O)),O?(g.Dj("yt-remote-session-app",O.app),g.Dj("yt-remote-session-name",O.name)):(g.V2("yt-remote-session-app"),g.V2("yt-remote-session-name")),g.uX("yt.mdx.remote.channelParams_",O),J.start(),Dc()||mEz())}},HMd=function(){var O=SO().qU.$_gos();
const V=mI();V&&$d()&&(za(O,V)||O.push(V));return uMn(O)},Ho=function(){let O=j5W();
!O&&aK()&&MTm()&&(O={key:"cast-selector-receiver",name:MTm()});return O},j5W=function(){const O=HMd();
let V=mI();V||(V=yZ());return g.bm(O,function(J){return V&&xw(V,J.key)?!0:!1})},mI=function(){const O=Dc();
if(!O)return null;const V=SO().aW();return c1(V,O)},lNm=function(O){Ov("remote.onCastSessionChange_: "+W1(O));
if(O){var V=mI();if(V&&V.id==O.id){if(fl(V.id,"YouTube TV"),O.idType=="shortLived"&&(O=O.token))j6&&(j6.token=O),(V=$d())&&V.d5(O)}else V&&CS(),Fc(O,1)}else $d()&&CS()},CS=function(){b5()?IK().stopSession():TZ("stopSession called before API ready.");
const O=$d();O&&(O.disconnect(1),NK(null))},xd=function(){const O=$d();
return!!O&&O.getProxyState()!=3},Ov=function(O){tk("remote",O)},SO=function(){if(!Wo){const O=g.Ar("yt.mdx.remote.screenService_");
Wo=O?new CNm(O):null}return Wo},Dc=function(){return g.Ar("yt.mdx.remote.currentScreenId_")},Fay=function(O){g.uX("yt.mdx.remote.currentScreenId_",O)},NPE=function(){return g.Ar("yt.mdx.remote.connectData_")},Jl=function(O){g.uX("yt.mdx.remote.connectData_",O)},$d=function(){return g.Ar("yt.mdx.remote.connection_")},NK=function(O){const V=$d();
Jl(null);O||Fay("");g.uX("yt.mdx.remote.connection_",O);k0&&(g.zD(k0,function(J){J(O)}),k0.length=0);
V&&!O?bq("yt-remote-connection-change",!1):!V&&O&&bq("yt-remote-connection-change",!0)},yZ=function(){const O=g.J7();
if(!O)return null;var V=SO();if(!V)return null;V=V.aW();return c1(V,O)},Fc=function(O,V){Dc();
mI()&&mI();if(Uv)j6=O;else{Fay(O.id);var J=g.Ar("yt.mdx.remote.enableConnectWithInitialState_")||!1;O=new Zo(O,J);O.connect(V,NPE());O.subscribe("beforeDisconnect",function(y){bq("yt-remote-before-disconnect",y)});
O.subscribe("beforeDispose",function(){$d()&&($d(),NK(null))});
O.subscribe("browserChannelAuthError",()=>{const y=mI();y&&y.idType=="shortLived"&&(b5()?IK().handleBrowserChannelAuthError():TZ("refreshLoungeToken called before API ready."))});
NK(O)}},mEz=function(){const O=yZ();
O?(Ov("Resume connection to: "+W1(O)),Fc(O,0)):(Yw(),LS1(),Ov("Skipping connecting because no session screen found."))},yXy=function(){var O=lP();
if(g.l2(O)){O=eb();var V=g.OZ("yt-remote-session-name")||"";const J=g.OZ("yt-remote-session-app")||"";O={device:"REMOTE_CONTROL",id:O,name:V,app:J,mdxVersion:3};O.authuser=String(g.Q("SESSION_INDEX","0"));(V=g.Q("DELEGATED_SESSION_ID"))&&(O.pageId=String(V));g.uX("yt.mdx.remote.channelParams_",O)}},lP=function(){return g.Ar("yt.mdx.remote.channelParams_")||{}},xEz=function(O,V){if(zq(O)){O.qI.unsubscribe("remotePlayerChange",O.W,O);
const J=Math.round(V.volume);V=!!V.muted;const y=dD(O.qI);if(J!==y.volume||V!==y.muted)O.qI.setVolume(J,V),O.J.start();O.qI.subscribe("remotePlayerChange",O.W,O)}},zq=function(O){return dD(O.qI).videoId===co(O).videoId},Tq=function(O,V){let J,y;
var l=O.O.getPlaylist();l?.listId&&(J=l.index,y=l.listId.toString());l=co(O);O.qI.playVideo(l.videoId,V,J,y,l.playerParams,l.qX,vuy(l));O.RX(new g.jX(1))},e6=function(O,V){if(zq(O)&&!O.A){let J=null;
V&&(J={style:O.O.getSubtitlesUserSettings()},Object.assign(J,V));O.qI.S(co(O).videoId,J);O.D=dD(O.qI).trackData}},Waz=function(O,V){if(V){const J=O.O.getOption("captions","tracklist",{Jl:1});
J&&J.length?(O.O.setOption("captions","track",V),O.A=!1):(O.O.loadModule("captions"),O.A=!0)}else O.O.setOption("captions","track",{})},UEz=function(O){O.wX(0);
O.j.stop();O.RX(new g.jX(64))},co=function(O){return O.O.getVideoData({playerType:1})},ZMs=function(O){const V=O.player.Z();
return!V.G("mdx_enable_privacy_disclosure_ui")||O.isLoggedIn()||O.dR||!O.Db?!1:g.lQ(V)||g.HK(V)},z1d=function(O,V,J){O.ZD=J;
O.player.publish("presentingplayerstatechange",new g.sS(J,V))},IU=function(O,V,...J){O.loaded&&O.rk.Bs(V,...J)},Yd=function(O){O.Xr&&(O.player.removeEventListener("presentingplayerstatechange",O.Xr),O.Xr=null)},aU=function(O,V){if(V.key!==O.KG.key)if(V.key===O.Us.key)CS();
else if(ZMs(O)&&cXz(O),O.KG=V,!g.KU(O.player.Z())){{const m=O.player.getPlaylistId();var J=O.player.getVideoData({playerType:1});const H=J.videoId;if(!m&&!H||(O.player.getAppState()===2||O.player.getAppState()===1)&&O.player.Z().G("should_clear_video_data_on_player_cued_unstarted"))J=null;else{var y=O.player.getPlaylist();if(y){var l=[];for(let C=0;C<y.length;C++)l[C]=g.zx(y,C).videoId}else l=[H];y=O.player.getCurrentTime(1);O={videoIds:l,listId:m,videoId:H,playerParams:J.playerParams,clickTrackingParams:J.qX,
index:Math.max(O.player.getPlaylistIndex(),0),currentTime:y===0?void 0:y};(J=vuy(J))&&(O.locationInfo=J);J=O}}Ov("Connecting to: "+g.eL(V));V.key=="cast-selector-receiver"?(Jl(J||null),V=J||null,b5()?IK().setLaunchParams(V):TZ("setLaunchParams called before ready.")):!J&&xd()&&Dc()==V.key?bq("yt-remote-connection-change",!0):(CS(),Jl(J||null),J=SO().aW(),(V=c1(J,V.key))&&Fc(V,1))}},cXz=function(O){O.player.getPlayerStateObject().isPlaying()?O.player.pauseVideo():(O.Xr=V=>{!O.dR&&V.BB(8)&&(O.player.pauseVideo(),
Yd(O))},O.player.addEventListener("presentingplayerstatechange",O.Xr));
O.Db&&O.Db.Yr();$d()||(Uv=!0)};
g.A3.prototype.c5=g.vh(46,function(){this.app.cC().c5()});
g.oJ.prototype.c5=g.vh(45,function(){this.BK=null});
g.A3.prototype.zc=g.vh(44,function(O){this.app.cC().zc(O)});
g.oJ.prototype.zc=g.vh(43,function(O){this.BK=O});
g.Kt.prototype.BR=g.vh(1,function(){return g.FX(this,3)});
g.OK.prototype.BR=g.vh(0,function(){return g.FX(this,11)});
var Tqn=class{constructor(){var O=g.Ad();this.j=O;g.x6(O,"/client_streamz/youtube/living_room/mdx/channel/opened",g.o8("channel_type"))}K(O){g.U7(this.j,"/client_streamz/youtube/living_room/mdx/channel/opened",O)}},eLz=class{constructor(){var O=g.Ad();this.j=O;g.x6(O,"/client_streamz/youtube/living_room/mdx/channel/closed",g.o8("channel_type"))}K(O){g.U7(this.j,"/client_streamz/youtube/living_room/mdx/channel/closed",O)}},YWz=class{constructor(){var O=g.Ad();this.j=O;g.x6(O,"/client_streamz/youtube/living_room/mdx/channel/message_received",
g.o8("channel_type"))}K(O){g.U7(this.j,"/client_streamz/youtube/living_room/mdx/channel/message_received",O)}},Ils=class{constructor(){var O=g.Ad();this.j=O;g.x6(O,"/client_streamz/youtube/living_room/mdx/channel/success")}K(){g.U7(this.j,"/client_streamz/youtube/living_room/mdx/channel/success")}},alm=class{constructor(){var O=g.Ad();this.j=O;g.x6(O,"/client_streamz/youtube/living_room/mdx/channel/error",g.o8("channel_type"),g.o8("error_type"))}K(O,V){g.U7(this.j,"/client_streamz/youtube/living_room/mdx/channel/error",
O,V)}},bqF=class{constructor(){var O=g.Ad();this.j=O;g.x6(O,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps")}K(){g.U7(this.j,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps")}},pG1=class{constructor(){var O=g.Ad();this.j=O;g.x6(O,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps")}K(){g.U7(this.j,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps")}};g.b=jb.prototype;
g.b.aK=function(){CQ(this);const O=[];for(let V=0;V<this.K.length;V++)O.push(this.j[this.K[V]]);return O};
g.b.NK=function(){CQ(this);return this.K.concat()};
g.b.has=function(O){return H1(this.j,O)};
g.b.equals=function(O,V){if(this===O)return!0;if(this.size!=O.size)return!1;V=V||Xlz;CQ(this);let J;for(let y=0;J=this.K[y];y++)if(!V(this.get(J),O.get(J)))return!1;return!0};
g.b.isEmpty=function(){return this.size==0};
g.b.clear=function(){this.j={};this.qB=this.size=this.K.length=0};
g.b.remove=function(O){return this.delete(O)};
g.b.delete=function(O){return H1(this.j,O)?(delete this.j[O],--this.size,this.qB++,this.K.length>2*this.size&&CQ(this),!0):!1};
g.b.get=function(O,V){return H1(this.j,O)?this.j[O]:V};
g.b.set=function(O,V){H1(this.j,O)||(this.size+=1,this.K.push(O),this.qB++);this.j[O]=V};
g.b.forEach=function(O,V){const J=this.NK();for(let y=0;y<J.length;y++){const l=J[y],m=this.get(l);O.call(V,m,l,this)}};
g.b.clone=function(){return new jb(this)};
g.b.keys=function(){return g.cv(this.S8(!0)).K()};
g.b.values=function(){return g.cv(this.S8(!1)).K()};
g.b.entries=function(){const O=this;return nu1(this.keys(),function(V){return[V,O.get(V)]})};
g.b.S8=function(O){CQ(this);let V=0;const J=this.qB,y=this,l=new g.bD;l.next=function(){if(J!=y.qB)throw Error("The map has changed since the iterator was created");if(V>=y.K.length)return g.Mp;const m=y.K[V++];return g.pi(O?m:y.j[m])};
return l};
var qLz={pA:"atp",HDj:"ska",RK5:"que",YC:"mus",ZDK:"sus",hX:"dsp",GLD:"seq",Qh:"mic",KL:"dpa",bu:"mlm",pL:"dsdtr",BD:"ntb",cxK:"vsp",rp:"scn",fNi:"rpe",tH:"dcn",BN:"dcp",F_:"pas",e9:"drq",lf:"opf",AX:"els",Ow:"isg",xXl:"svq",HD:"mvp",sK:"ads",sli:"stcp",INn:"sads",hH:"dloc",lI:"dcw",h8:"asw",B3:"apw",eI:"wrc",nS:"pcw",sV:"ipv",KS:"ndt",S9:"ctops",MA:"gsrm"},Qhz={xHK:"u",GZ:"cl",ji:"k",kB:"i",HN:"cr",Mg:"m",CL:"g",W$:"up"},hLn={pS:"nowPlaying",US:"onStateChange",fN:"adPlaying",Re:"onAdStateChange",
JF:"nowPlayingShorts",tF:"onShortsStateChange"},o9s={JF:"nowPlayingShorts",tF:"onShortsStateChange"};F8.prototype.equals=function(O){return O?this.id==O.id:!1};
var Ta="",av=null,m$C=Oim("loadCastFramework")||Oim("loadCastApplicationFramework"),Hiz=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"];g.jF(v1,g.mz);g.b=v1.prototype;g.b.ox=function(O){this.D=arguments;this.K=!1;this.bR?this.U=g.mC()+this.bV:this.bR=g.mE(this.W,this.bV)};
g.b.stop=function(){this.bR&&(g.tr.clearTimeout(this.bR),this.bR=null);this.U=null;this.K=!1;this.D=[]};
g.b.pause=function(){++this.j};
g.b.resume=function(){this.j&&(--this.j,!this.j&&this.K&&(this.K=!1,this.A.apply(null,this.D)))};
g.b.U5=function(){this.stop();v1.Z_.U5.call(this)};
g.b.kH=function(){this.bR&&(g.tr.clearTimeout(this.bR),this.bR=null);this.U?(this.bR=g.mE(this.W,this.U-g.mC()),this.U=null):this.j?this.K=!0:(this.K=!1,this.A.apply(null,this.D))};var MG=null;wK.prototype.set=function(O){this.K=O};
wK.prototype.reset=function(){this.set(g.mC())};
wK.prototype.get=function(){return this.K};g.jF(FzV,CDV);var lt=class{stringify(O){return g.tr.JSON.stringify(O,void 0)}parse(O){return g.tr.JSON.parse(O,void 0)}};g.jF(LQ,g.jJ);g.jF(nQ,g.jJ);var N2C=null;g.jF(x$n,g.jJ);g.jF(WzD,g.jJ);g.jF(U$F,g.jJ);qG.prototype.debug=function(){};
qG.prototype.info=function(){};
qG.prototype.warning=function(){};var ejz={},Av={};g.b=Qu.prototype;g.b.setTimeout=function(O){this.cE=O};
g.b.Vf=function(O){O=O.target;const V=this.GL;V&&g.LZ(O)==3?V.D():this.zz(O)};
g.b.zz=function(O){try{if(O==this.K)a:{const l=g.LZ(this.K),m=this.K.j,H=this.K.getStatus();if(!(l<3)&&(l!=3||this.K&&(this.j.j||g.E7(this.K)||g.d7(this.K)))){this.Xj||l!=4||m==7||(m==8||H<=0?EY(3):EY(2));rK(this);var V=this.K.getStatus();this.zL=V;var J=T2V(this);if(this.A=V==200){if(this.s5&&!this.ol){b:{if(this.K){const C=g.qn(this.K,"X-HTTP-Initial-Response");if(C&&!g.Tv(C)){var y=C;break b}}y=null}if(O=y)this.ol=!0,V3(this,O);else{this.A=!1;this.W=3;dK(12);tv(this);uq(this);break a}}if(this.fD){O=
!0;let C;for(;!this.Xj&&this.V<J.length;)if(C=IBW(this,J),C==Av){l==4&&(this.W=4,dK(14),O=!1);break}else if(C==ejz){this.W=4;dK(15);O=!1;break}else V3(this,C);sVn(this)&&this.V!=0&&(this.j.K=this.j.K.slice(this.V),this.V=0);l!=4||J.length!=0||this.j.j||(this.W=1,dK(16),O=!1);this.A=this.A&&O;O?J.length>0&&!this.BE&&(this.BE=!0,this.U.F0(this)):(tv(this),uq(this))}else V3(this,J);l==4&&tv(this);this.A&&!this.Xj&&(l==4?aBC(this.U,this):(this.A=!1,KQ(this)))}else g.g7(this.K),V==400&&J.indexOf("Unknown SID")>
0?(this.W=3,dK(12)):(this.W=0,dK(13)),tv(this),uq(this)}}}catch(l){}finally{}};
g.b.cancel=function(){this.Xj=!0;tv(this)};
g.b.Gn=function(){this.KD=null;const O=Date.now();O-this.PE>=0?(this.uw!=2&&(EY(3),dK(17)),tv(this),this.W=2,uq(this)):Y6E(this,this.PE-O)};
g.b.getLastError=function(){return this.W};
g.b.HJ=function(){return this.K};var s5F=class{constructor(O,V){this.K=O;this.map=V;this.context=null}};hjd.prototype.cancel=function(){this.U=Jk(this);if(this.j)this.j.cancel(),this.j=null;else if(this.K&&this.K.size!==0){for(const O of this.K.values())O.cancel();this.K.clear()}};g.b=LzW.prototype;g.b.aV=8;g.b.nE=1;g.b.connect=function(O,V,J,y){dK(0);this.Ls=O;this.Xj=V||{};J&&y!==void 0&&(this.Xj.OSID=J,this.Xj.OAID=y);this.GL=this.dC;this.O5=biF(this,null,this.Ls);Ob(this)};
g.b.disconnect=function(){nQz(this);if(this.nE==3){var O=this.xi++,V=this.O5.clone();g.On(V,"SID",this.D);g.On(V,"RID",O);g.On(V,"TYPE","terminate");HD(this,V);O=new Qu(this,this.D,O);O.uw=2;O.S=yu(V.clone());V=!1;if(g.tr.navigator&&g.tr.navigator.sendBeacon)try{V=g.tr.navigator.sendBeacon(O.S.toString(),"")}catch{}!V&&g.tr.Image&&((new Image).src=O.S,V=!0);V||(O.K=cbn(O.U,null),O.K.send(O.S));O.qX=Date.now();KQ(O)}QVz(this)};
g.b.Ic=function(){return this.nE==0};
g.b.getState=function(){return this.nE};
g.b.BT=function(O){if(this.A)if(this.A=null,this.nE==1){if(!O){this.xi=Math.floor(Math.random()*1E5);O=this.xi++;const l=new Qu(this,"",O);let m=this.T;this.s5&&(m?(m=g.jw(m),g.xm(m,this.s5)):m=this.s5);this.V!==null||this.PE||(l.O5=m,m=null);if(this.TL)a:{var V=0;for(var J=0;J<this.U.length;J++){b:{var y=this.U[J];if("__data__"in y.map&&(y=y.map.__data__,typeof y==="string")){y=y.length;break b}y=void 0}if(y===void 0)break;V+=y;if(V>4096){V=J;break a}if(V===4096||J===this.U.length-1){V=J+1;break a}}V=
this.MH}else V=this.MH;V=d$C(this,l,V);J=this.O5.clone();g.On(J,"RID",O);g.On(J,"CVER",22);this.fD&&g.On(J,"X-HTTP-Session-Id",this.fD);HD(this,J);m&&(this.PE?V="headers="+g.IG(g.mm(m))+"&"+V:this.V&&g.$C(J,this.V,m));DC(this.j,l);this.MG&&g.On(J,"TYPE","init");this.TL?(g.On(J,"$req",V),g.On(J,"SID","null"),l.s5=!0,Ga(l,J,null)):Ga(l,J,V);this.nE=2}}else this.nE==3&&(O?gQz(this,O):this.U.length==0||oQE(this.j)||gQz(this))};
g.b.sQ=function(){this.S=null;q6m(this);if(this.oB&&!(this.cE||this.K==null||this.Ty<=0)){var O=4*this.Ty;this.lw=gK((0,g.Vs)(this.DE,this),O)}};
g.b.DE=function(){this.lw&&(this.lw=null,this.GL=!1,this.cE=!0,dK(10),B1(this),q6m(this))};
g.b.F0=function(O){this.K==O&&this.oB&&!this.cE&&($k(this),this.cE=!0,dK(11))};
g.b.gg=function(){this.KD!=null&&(this.KD=null,B1(this),P1(this),dK(19))};
g.b.v3=function(O){O?dK(2):dK(1)};
g.b.isActive=function(){return!!this.W&&this.W.isActive(this)};
g.b=Kzz.prototype;g.b.K7=function(){};
g.b.qa=function(){};
g.b.p7=function(){};
g.b.e$=function(){};
g.b.isActive=function(){return!0};
g.b.wg=function(){};g.jF(CX,g.o5);CX.prototype.open=function(){this.K.W=this.U;this.V&&(this.K.ol=!0);this.K.connect(this.A,this.j||void 0)};
CX.prototype.close=function(){this.K.disconnect()};
CX.prototype.send=function(O){var V=this.K;if(typeof O==="string"){var J={};J.__data__=O;O=J}else this.W&&(J={},J.__data__=g.eL(O),O=J);V.U.push(new s5F(V.AL++,O));V.nE==3&&Ob(V)};
CX.prototype.U5=function(){this.K.W=null;delete this.U;this.K.disconnect();delete this.K;CX.Z_.U5.call(this)};
g.jF(u3m,LQ);g.jF(AbC,nQ);g.jF(jM,Kzz);jM.prototype.K7=function(){this.K.dispatchEvent("m")};
jM.prototype.qa=function(O){this.K.dispatchEvent(new u3m(O))};
jM.prototype.p7=function(O){this.K.dispatchEvent(new AbC(O))};
jM.prototype.e$=function(){this.K.dispatchEvent("n")};
CX.prototype.D=function(){return new F9(this,this.K)};
F9.prototype.j=function(){return kw(this.K.j)};
F9.prototype.U=function(){return G7F(this.K).map(O=>{var V=this.D;O=O.map;"__data__"in O?(O=O.__data__,V=V.W?MDs(O):O):V=O;return V})};
F9.prototype.commit=function(O){this.K.zL=O};var xk=new g.o5,rbW=class extends g.jJ{constructor(){super("statevent",xk)}};g.b=Ub.prototype;g.b.W0=null;g.b.SM=!1;g.b.NN=null;g.b.y3=null;g.b.XO=null;g.b.mQ=null;g.b.Dk=null;g.b.lF=null;g.b.XM=null;g.b.WX=null;g.b.UH=0;g.b.d_=null;g.b.RZ=null;g.b.MN=null;g.b.W_=-1;g.b.O_=!0;g.b.v_=!1;g.b.xl=0;g.b.jc=null;var B2s={},cD={};g.b=Ub.prototype;g.b.setTimeout=function(O){this.j=O};
g.b.xH=function(O){O=O.target;const V=this.jc;V&&g.LZ(O)==3?V.D():this.je(O)};
g.b.je=function(O){try{if(O==this.WX)a:{const V=g.LZ(this.WX),J=this.WX.j,y=this.WX.getStatus();if(g.Up&&!g.Gk("420+")){if(V<4)break a}else if(V<3||V==3&&!g.E7(this.WX))break a;this.v_||V!=4||J==7||(J==8||y<=0?this.K.N5(3):this.K.N5(2));S6F(this);const l=this.WX.getStatus();this.W_=l;const m=g.E7(this.WX);if(this.SM=l==200){V==4&&Ty(this);if(this.fD){for(O=!0;!this.v_&&this.UH<m.length;){const H=PDW(this,m);if(H==cD){V==4&&(this.MN=4,WD(),O=!1);break}else if(H==B2s){this.MN=4;WD();O=!1;break}else D$V(this,
H)}V==4&&m.length==0&&(this.MN=1,WD(),O=!1);this.SM=this.SM&&O;O||(Ty(this),sb(this))}else D$V(this,m);this.SM&&!this.v_&&(V==4?this.K.Q3(this):(this.SM=!1,zy(this)))}else this.MN=l==400&&m.indexOf("Unknown SID")>0?3:0,WD(),Ty(this),sb(this)}}catch(V){}finally{}};
g.b.cancel=function(){this.v_=!0;Ty(this)};
g.b.LX=function(){this.NN=null;const O=Date.now();O-this.y3>=0?(this.mQ!=2&&this.K.N5(3),Ty(this),this.MN=2,WD(),sb(this)):k7V(this,this.y3-O)};
g.b.getLastError=function(){return this.MN};g.b=JBd.prototype;g.b.Ih=null;g.b.CK=null;g.b.Zw=!1;g.b.S6=null;g.b.y0=null;g.b.Bi=-1;g.b.fV=null;g.b.SY=null;g.b.connect=function(O){this.S6=O;O=IX(this.K,null,this.S6);WD();Date.now();const V=this.K.T;V!=null?(this.fV=V[0],(this.SY=V[1])?(this.y0=1,yBs(this)):(this.y0=2,aX(this))):(lq(O,"MODE","init"),this.CK=new Ub(this),this.CK.W0=this.Ih,ZX(this.CK,O,!1,null,!0),this.y0=0)};
g.b.pH=function(O){if(O)this.y0=2,aX(this);else{WD();var V=this.K;V.w6=V.pG.Bi;Mf(V,9)}O&&this.N5(2)};
g.b.cG=function(O){return this.K.cG(O)};
g.b.abort=function(){this.CK&&(this.CK.cancel(),this.CK=null);this.Bi=-1};
g.b.Ic=function(){return!1};
g.b.lP=function(O,V){this.Bi=O.W_;if(this.y0==0)if(V){try{var J=this.j.parse(V)}catch(y){O=this.K;O.w6=this.Bi;Mf(O,2);return}this.fV=J[0];this.SY=J[1]}else O=this.K,O.w6=this.Bi,Mf(O,2);else this.y0==2&&(this.Zw?(WD(),Date.now()):V=="11111"?(WD(),this.Zw=!0,Date.now(),this.Bi=200,this.CK.cancel(),WD(),Yk(this.K,this,!0)):(WD(),Date.now(),this.Zw=!1))};
g.b.Q3=function(){this.Bi=this.CK.W_;if(this.CK.SM)this.y0==0?this.SY?(this.y0=1,yBs(this)):(this.y0=2,aX(this)):this.y0==2&&(this.Zw?(WD(),Yk(this.K,this,!0)):(WD(),Yk(this.K,this,!1)));else{this.y0==0?WD():this.y0==2&&WD();var O=this.K;this.CK.getLastError();O.w6=this.Bi;Mf(O,2)}};
g.b.uK=function(){return this.K.uK()};
g.b.isActive=function(){return this.K.isActive()};
g.b.N5=function(O){this.K.N5(O)};g.b=bt.prototype;g.b.IK=null;g.b.dj=null;g.b.pK=null;g.b.Mq=null;g.b.Ee=null;g.b.DZ=null;g.b.mV=null;g.b.CT=null;g.b.Oz=0;g.b.cw=0;g.b.PK=null;g.b.Cc=null;g.b.hj=null;g.b.Aq=null;g.b.pG=null;g.b.JV=null;g.b.z9=-1;g.b.RQ=-1;g.b.w6=-1;g.b.J7=0;g.b.T9=0;g.b.O3=8;var TPF={OK:0,ujw:2,Vh:4,qQ:5,Lpz:6,STOP:7,Tn:8,m7:9,KA:10,lE:11,pN:12};g.jF(mqE,g.jJ);g.jF($qF,g.jJ);g.b=bt.prototype;
g.b.connect=function(O,V,J,y,l){WD();this.Ee=V;this.dj=J||{};y&&l!==void 0&&(this.dj.OSID=y,this.dj.OAID=l);this.S?(Nf((0,g.Vs)(this.Wm,this,O),100),Hqz(this)):this.Wm(O)};
g.b.disconnect=function(){j_F(this);if(this.K==3){var O=this.Oz++;const V=this.DZ.clone();g.On(V,"SID",this.D);g.On(V,"RID",O);g.On(V,"TYPE","terminate");vD(this,V);O=new Ub(this,this.D,O);O.mQ=2;O.Dk=yu(V.clone());(new Image).src=O.Dk.toString();O.XO=Date.now();zy(O)}ZqC(this)};
g.b.Wm=function(O){this.pG=new JBd(this);this.pG.Ih=this.IK;this.pG.j=this.W;this.pG.connect(O)};
g.b.Ic=function(){return this.K==0};
g.b.getState=function(){return this.K};
g.b.f7=function(O){this.Cc=null;Nqz(this,O)};
g.b.U8=function(){this.hj=null;this.Mq=new Ub(this,this.D,"rpc",this.V);this.Mq.W0=this.IK;this.Mq.xl=0;var O=this.mV.clone();g.On(O,"RID","rpc");g.On(O,"SID",this.D);g.On(O,"CI",this.JV?"0":"1");g.On(O,"AID",this.z9);vD(this,O);g.On(O,"TYPE","xmlhttp");ZX(this.Mq,O,!0,this.CT,!1)};
g.b.lP=function(O,V){if(this.K!=0&&(this.Mq==O||this.pK==O))if(this.w6=O.W_,this.pK==O&&this.K==3)if(this.O3>7){try{var J=this.W.parse(V)}catch(y){J=null}if(Array.isArray(J)&&J.length==3)if(O=J,O[0]==0)a:{if(!this.hj){if(this.Mq)if(this.Mq.XO+3E3<this.pK.XO)fX(this),this.Mq.cancel(),this.Mq=null;else break a;wY(this);WD()}}else this.RQ=O[1],0<this.RQ-this.z9&&O[2]<37500&&this.JV&&this.T9==0&&!this.Aq&&(this.Aq=Nf((0,g.Vs)(this.Ix,this),6E3));else Mf(this,11)}else V!="y2f%"&&Mf(this,11);else if(this.Mq==
O&&fX(this),!g.Tv(V))for(O=this.W.parse(V),V=0;V<O.length;V++)J=O[V],this.z9=J[0],J=J[1],this.K==2?J[0]=="c"?(this.D=J[1],this.CT=J[2],J=J[3],J!=null?this.O3=J:this.O3=6,this.K=3,this.PK&&this.PK.Wy(),this.mV=IX(this,this.uK()?this.CT:null,this.Ee),xqI(this)):J[0]=="stop"&&Mf(this,7):this.K==3&&(J[0]=="stop"?Mf(this,7):J[0]!="noop"&&this.PK&&this.PK.vy(J),this.T9=0)};
g.b.Ix=function(){this.Aq!=null&&(this.Aq=null,this.Mq.cancel(),this.Mq=null,wY(this),WD())};
g.b.Q3=function(O){if(this.Mq==O){fX(this);this.Mq=null;var V=2}else if(this.pK==O)this.pK=null,V=1;else return;this.w6=O.W_;if(this.K!=0)if(O.SM)if(V==1){V=O.XM?O.XM.length:0;O=Date.now()-O.XO;var J=xk;J.dispatchEvent(new mqE(J,V,O,this.J7));pX(this);this.PK&&this.PK.Xu(this,this.U);this.U.length=0}else xqI(this);else{J=O.getLastError();var y;if(!(y=J==3||J==7||J==0&&this.w6>0)){if(y=V==1)this.pK||this.Cc||this.K==1||this.J7>=2?y=!1:(this.Cc=Nf((0,g.Vs)(this.f7,this,O),WUn(this,this.J7)),this.J7++,
y=!0);y=!(y||V==2&&wY(this))}if(y)switch(J){case 1:Mf(this,5);break;case 4:Mf(this,10);break;case 3:Mf(this,6);break;case 7:Mf(this,12);break;default:Mf(this,2)}}};
g.b.yf=function(O){if(!g.fd(arguments,this.K))throw Error("Unexpected channel state: "+this.K);};
g.b.Dz=function(O){O?WD():(WD(),UqI(this,8))};
g.b.cG=function(O){if(O)throw Error("Can't create secondary domain capable XhrIo object.");O=new g.fZ;O.V=!1;return O};
g.b.isActive=function(){return!!this.PK&&this.PK.isActive(this)};
g.b.N5=function(O){const V=xk;V.dispatchEvent(new $qF(V,O))};
g.b.uK=function(){return!1};
new FzV;g.b=zLn.prototype;g.b.Wy=function(){};
g.b.vy=function(){};
g.b.Xu=function(){};
g.b.Dn=function(){};
g.b.nT=function(){};
g.b.uP=function(){return{}};
g.b.isActive=function(){return!0};g.b=cBW.prototype;g.b.enqueue=function(O){this.j.push(O)};
g.b.isEmpty=function(){return this.K.length===0&&this.j.length===0};
g.b.clear=function(){this.K=[];this.j=[]};
g.b.contains=function(O){return g.fd(this.K,O)||g.fd(this.j,O)};
g.b.remove=function(O){{var V=this.K;const J=Array.prototype.lastIndexOf.call(V,O,V.length-1);J>=0?(g.oz(V,J),V=!0):V=!1}return V||g.vn(this.j,O)};
g.b.aK=function(){const O=[];for(var V=this.K.length-1;V>=0;--V)O.push(this.K[V]);V=this.j.length;for(let J=0;J<V;++J)O.push(this.j[J]);return O};var e1z=class extends g.jJ{constructor(O){super("channelMessage");this.message=O}},INC=class extends g.jJ{constructor(O){super("channelError");this.error=O}};g.jF(LX,g.mz);g.b=LX.prototype;g.b.bS=function(){this.retryCount++;this.bV=Math.min(3E5,this.bV*2);this.j();this.PL&&this.start()};
g.b.BR=function(){return this.retryCount};
g.b.start=function(){const O=this.bV+15E3*Math.random();this.K.S7(O);this.PL=Date.now()+O};
g.b.stop=function(){this.K.stop();this.PL=0};
g.b.isActive=function(){return this.K.isActive()};
g.b.reset=function(){this.K.stop();this.retryCount=0;this.bV=5E3};g.jF(nX,zLn);g.b=nX.prototype;g.b.subscribe=function(O,V,J){return this.S.subscribe(O,V,J)};
g.b.unsubscribe=function(O,V,J){return this.S.unsubscribe(O,V,J)};
g.b.EY=function(O){return this.S.EY(O)};
g.b.publish=function(O,V){return this.S.publish.apply(this.S,arguments)};
g.b.dispose=function(){this.T||(this.T=!0,g.y$(this.S),this.disconnect(),g.y$(this.j),this.j=null,this.O5=()=>"",this.ol=()=>g.KM({}))};
g.b.gW=function(){return this.T};
g.b.connect=async function(O,V,J){try{this.V&&await this.W}finally{if(this.T||this.K&&this.K.getState()==2&&!this.U)return;this.fD="";this.U||this.j.stop();this.J=O||null;this.KD=V||0;const y=this.GL+"/test",l=this.GL+"/bind";O=new bt(J?J.firstTestResults:null,J?J.secondTestResults:null,this.BE);const m=this.K;m&&(m.PK=null);O.PK=this;this.K=O;if(this.V)return this.W=dY(this).then(()=>fls(this,y,l,m,J)),this.W.then(()=>{this.W=g.KM()});
fls(this,y,l,m,J)}};
g.b.disconnect=function(O){try{this.V&&(this.W.cancel(),this.W=g.KM())}finally{this.lw=O||0,this.j&&this.j.stop(),X9(this),this.K&&(this.K.getState()==3&&Nqz(this.K),this.K.disconnect()),this.lw=0}};
g.b.sendMessage=async function(O,V){try{this.V&&await this.W}finally{if(this.T)return;const J={_sc:O};V&&g.xm(J,V);if(this.j.isActive()||(this.K?this.K.getState():0)==2)this.D.push(J);else if(this.UJ())try{this.V&&!v9E(this,O)&&await dY(this)}finally{this.UJ()&&(v9E(this,O)||Eb(this),X9(this),hk(this.K,J))}}};
g.b.Wy=function(){this.A&&this.j&&this.j.BR()>0&&(this.A.pCL(this.j.BR(),this.U,!0),this.A.q7L());this.A&&this.A.IgN();this.U?(this.j.stop(),g.y$(this.j),this.j=new LX(this.Kl,this),this.U=!1):this.j.reset();this.J=null;this.KD=0;if(this.D.length)if(this.V)wG1(this);else{var O=this.D;this.D=[];var V=O.length;Eb(this);for(let J=0;J<V;++J)hk(this.K,O[J]);gY(this);gY(this)}else gY(this)};
g.b.Dn=function(O){var V=O==2&&this.K.w6==401;O==4||V||(this.U&&!this.j.isActive()&&(g.y$(this.j),this.j=new LX(this.Kl,this),this.U=!1),this.j.start());this.publish("handlerError",O,V);V=Object.keys(TPF).find(J=>TPF[J]===O);
this.SB.K("BROWSER_CHANNEL",V??"UNKNOWN")};
g.b.nT=function(O,V){if(!this.j.isActive())this.publish("handlerClosed");else if(V){const J=V.length;for(let y=0;y<J;++y){const l=V[y].map;l&&this.D.push(l)}}this.xi.K("BROWSER_CHANNEL");O&&g.Wy(this.dC.j,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps",O.length);V&&g.Wy(this.oB.j,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps",V.length)};
g.b.Xu=function(O,V){V!=null&&O!=null&&this.TL.K()};
g.b.uP=function(){const O={v:2};this.fD&&(O.gsessionid=this.fD);this.KD!=0&&(O.ui=""+this.KD);this.lw!=0&&(O.ui=""+this.lw);this.J&&g.xm(O,this.J);return O};
g.b.vy=function(O){O[0]=="S"?this.fD=O[1]:O[0]=="gracefulReconnect"?(this.j.start(),this.K.disconnect()):this.publish("handlerMessage",new s_E(O[0],O[1]));this.cE.K("BROWSER_CHANNEL")};
g.b.UJ=function(){return!!this.K&&this.K.getState()==3};
g.b.d5=function(O){(this.qX.loungeIdToken=O)||this.j.stop();if(this.UR&&this.K){const V=this.K.IK||{};O?V["X-YouTube-LoungeId-Token"]=O:delete V["X-YouTube-LoungeId-Token"];this.K.IK=V}};
g.b.getDeviceId=function(){return this.qX.id};
g.b.gt=function(){return this.j.isActive()?this.j.PL-Date.now():NaN};
g.b.mR=function(){var O=this.j;g.R4(O.K);O.start()};
g.b.Kl=function(){this.j.isActive();CTz(this.K)==0&&this.connect(this.J,this.KD)};qf.prototype.sendRequest=function(O,V,J,y,l,m,H){O={format:m?"RAW":"JSON",method:O,context:this,timeout:5E3,withCredentials:!!H,onSuccess:g.lm(this.D,y,!m),onError:g.lm(this.U,l),onTimeout:g.lm(this.W,l)};J&&(O.postParams=J,O.headers={"Content-Type":"application/x-www-form-urlencoded"});return g.tD(V,O)};
qf.prototype.D=function(O,V,J,y){V?O(y):O({text:J.responseText})};
qf.prototype.U=function(O,V){O(Error("Request error: "+V.status))};
qf.prototype.W=function(O){O(Error("request timed out"))};var dqd=class extends g.o5{constructor(O,V){super();this.handler=O();this.handler.subscribe("handlerOpened",this.K,this);this.handler.subscribe("handlerClosed",this.onClosed,this);this.handler.subscribe("handlerError",(J,y)=>{this.onError(y)});
this.handler.subscribe("handlerMessage",this.onMessage,this);this.j=V}connect(O,V,J){this.handler.connect(O,V,J)}disconnect(O){this.handler.disconnect(O)}mR(){this.handler.mR()}getDeviceId(){return this.handler.getDeviceId()}gt(){return this.handler.gt()}UJ(){return this.handler.UJ()}K(){this.dispatchEvent("channelOpened");var O=this.handler,V=this.j;g.Dj("yt-remote-session-browser-channel",{firstTestResults:[""],secondTestResults:!O.K.JV,sessionId:O.K.D,arrayId:O.K.z9});g.Dj("yt-remote-session-screen-id",
V);O=sY();V=eb();g.fd(O,V)||O.push(V);i1I(O);Iv()}onClosed(){this.dispatchEvent("channelClosed")}onMessage(O){this.dispatchEvent(new e1z(O))}onError(O){this.dispatchEvent(new INC(O?1:0))}sendMessage(O,V){this.handler.sendMessage(O,V)}d5(O){this.handler.d5(O)}dispose(){this.handler.dispose()}};var E9D=class{constructor(O,V,J=()=>""){new taz;
var y=new g.fW;this.pathPrefix=O;this.K=V;this.qX=J;this.W=y;this.S=null;this.T=this.V=0;this.channel=null;this.A=0;this.U=new LX(()=>{this.U.isActive();this.channel?.D().j()===0&&this.connect(this.S,this.V)});
this.D={};this.j={};this.KD=!1;this.logger=null;this.J=[];this.O7=void 0;this.O5=new Tqn;this.lw=new eLz;this.Xj=new YWz;this.fD=new alm}connect(O={},V=0){this.A!==2&&(this.U.stop(),this.S=O,this.V=V,Gy(this),(O=g.Q("ID_TOKEN"))?this.D["x-youtube-identity-token"]=O:delete this.D["x-youtube-identity-token"],this.K&&(this.j.device=this.K.device,this.j.name=this.K.name,this.j.app=this.K.app,this.j.id=this.K.id,this.K.nO&&(this.j.mdxVersion=`${this.K.nO}`),this.K.theme&&(this.j.theme=this.K.theme),this.K.capabilities&&
(this.j.capabilities=this.K.capabilities),this.K.Ar&&(this.j.cst=this.K.Ar),this.K.authuser&&(this.j.authuser=this.K.authuser),this.K.pageId&&(this.j.pageId=this.K.pageId)),this.V!==0?this.j.ui=`${this.V}`:delete this.j.ui,Object.assign(this.j,this.S),this.channel=new CX(this.pathPrefix,{sT:"gsessionid",Yz:this.D,MW:this.j}),this.channel.open(),this.A=2,n9z(this))}disconnect(O=0){this.T=O;this.U.stop();Gy(this);this.channel&&(this.T!==0?this.j.ui=`${this.T}`:delete this.j.ui,this.channel.close());
this.T=0}gt(){return this.U.isActive()?this.U.PL-Date.now():NaN}mR(){var O=this.U;g.R4(O.K);O.start()}sendMessage(O,V){this.channel&&(Gy(this),this.channel.send({_sc:O,...V}))}d5(O){O||this.U.stop();O?this.D["X-YouTube-LoungeId-Token"]=O:delete this.D["X-YouTube-LoungeId-Token"]}getDeviceId(){return this.K?this.K.id:""}publish(O,...V){return this.W.publish(O,...V)}subscribe(O,V,J){return this.W.subscribe(O,V,J)}unsubscribe(O,V,J){return this.W.unsubscribe(O,V,J)}EY(O){return this.W.EY(O)}dispose(){this.KD||
(this.KD=!0,g.y$(this.W),this.disconnect(),g.y$(this.U),this.qX=()=>"")}gW(){return this.KD}};var XGF=class extends g.o5{constructor(O){super();this.K=O();this.K.subscribe("webChannelOpened",this.j,this);this.K.subscribe("webChannelClosed",this.onClosed,this);this.K.subscribe("webChannelError",this.onError,this);this.K.subscribe("webChannelMessage",this.onMessage,this)}connect(O,V){this.K.connect(O,V)}disconnect(O){this.K.disconnect(O)}mR(){this.K.mR()}getDeviceId(){return this.K.getDeviceId()}gt(){return this.K.gt()}UJ(){return this.K.A===3}j(){this.dispatchEvent("channelOpened")}onClosed(){this.dispatchEvent("channelClosed")}onMessage(O){this.dispatchEvent(new e1z(O))}onError(){this.dispatchEvent(new INC(this.K.O7===
401?1:0))}sendMessage(O,V){this.K.sendMessage(O,V)}d5(O){this.K.d5(O)}dispose(){this.K.dispose()}};var ABD=Date.now(),KX=null,rY=Array(50),Ak=-1,RX=!1;g.jF(BD,g.OB);BD.prototype.aW=function(){return this.screens};
BD.prototype.contains=function(O){return!!za(this.screens,O)};
BD.prototype.get=function(O){return O?c1(this.screens,O):null};
BD.prototype.info=function(O){tk(this.A,O)};var aNn=class extends g.OB{constructor(O,V,J,y,l){super();this.D=O;this.J=V;this.S=J;this.KD=y;this.T=l;this.j=0;this.K=null;this.bR=NaN}start(){!this.K&&isNaN(this.bR)&&this.U()}stop(){this.K&&(this.K.abort(),this.K=null);isNaN(this.bR)||(g.nH(this.bR),this.bR=NaN)}U5(){this.stop();super.U5()}U(){this.bR=NaN;this.K=g.tD(Q3(this.D,"/pairing/get_screen"),{method:"POST",postParams:{pairing_code:this.J},timeout:5E3,onSuccess:(0,g.Vs)(this.A,this),onError:(0,g.Vs)(this.W,this),onTimeout:(0,g.Vs)(this.V,
this)})}A(O,V){this.K=null;O=V.screen||{};O.dialId=this.S;O.name=this.KD;V=-1;this.T&&O.shortLivedLoungeToken&&O.shortLivedLoungeToken.value&&O.shortLivedLoungeToken.refreshIntervalMs&&(O.screenIdType="shortLived",O.loungeToken=O.shortLivedLoungeToken.value,V=O.shortLivedLoungeToken.refreshIntervalMs);this.publish("pairingComplete",new NG(O),V)}W(O){this.K=null;O.status&&O.status==404?this.j>=Y9C.length?this.publish("pairingFailed",Error("DIAL polling timed out")):(O=Y9C[this.j],this.bR=g.MV((0,g.Vs)(this.U,
this),O),this.j++):this.publish("pairingFailed",Error("Server error "+O.status))}V(){this.K=null;this.publish("pairingFailed",Error("Server not responding"))}},Y9C=[2E3,2E3,1E3,1E3,1E3,2E3,2E3,5E3,5E3,1E4];g.jF(kk,BD);g.b=kk.prototype;g.b.start=function(){PD(this)&&this.publish("screenChange");!g.OZ("yt-remote-lounge-token-expiration")&&BqV(this);g.nH(this.K);this.K=g.MV((0,g.Vs)(this.start,this),1E4)};
g.b.add=function(O,V){PD(this);rBV(this,O);SM(this,!1);this.publish("screenChange");V(O);O.token||BqV(this)};
g.b.remove=function(O,V){let J=PD(this);RLd(this,O)&&(SM(this,!1),J=!0);V(O);J&&this.publish("screenChange")};
g.b.MM=function(O,V,J,y){let l=PD(this);const m=this.get(O.id);m?(m.name!=V&&(m.name=V,SM(this,!1),l=!0),J(O)):y(Error("no such local screen."));l&&this.publish("screenChange")};
g.b.U5=function(){g.nH(this.K);kk.Z_.U5.call(this)};
g.b.Hp=function(O){PD(this);let V=this.screens.length;O=O&&O.screens||[];const J=O.length;for(let y=0;y<J;++y){const l=O[y],m=this.get(l.screenId);m&&(m.token=l.loungeToken,--V)}SM(this,!V);V&&tk(this.A,"Missed "+V+" lounge tokens.")};
g.b.bd=function(O){tk(this.A,"Requesting lounge tokens failed: "+O)};var lWd=class extends g.OB{constructor(O,V){super();this.A=V;V=(V=g.OZ("yt-remote-online-screen-ids")||"")?V.split(","):[];const J={},y=this.A(),l=y.length;for(let m=0;m<l;++m){const H=y[m].id;J[H]=g.fd(V,H)}this.K=J;this.W=O;this.U=this.D=NaN;this.j=null;DX("Initialized with "+g.eL(this.K))}start(){const O=parseInt(g.OZ("yt-remote-fast-check-period")||"0",10);(this.D=g.mC()-144E5<O?0:O)?Or(this):(this.D=g.mC()+3E5,g.Dj("yt-remote-fast-check-period",this.D),this.V())}isEmpty(){return g.l2(this.K)}update(){DX("Updating availability on schedule.");
const O=this.A(),V=g.rV(this.K,function(J,y){return J&&!!c1(O,y)},this);
Vi(this,V)}U5(){g.nH(this.U);this.U=NaN;this.j&&(this.j.abort(),this.j=null);super.U5()}V(){g.nH(this.U);this.U=NaN;this.j&&this.j.abort();const O=kpW(this);if(mF(O)){var V=Q3(this.W,"/pairing/get_screen_availability"),J={lounge_token:g.SF(O).join(",")};this.j=this.W.sendRequest("POST",V,J,(0,g.Vs)(this.T,this,O),(0,g.Vs)(this.S,this))}else Vi(this,{}),Or(this)}T(O,V){this.j=null;var J=g.SF(kpW(this));if(g.tI(J,g.SF(O))){V=V.screens||[];J={};var y=V.length;for(let l=0;l<y;++l)J[O[V[l].loungeToken]]=
V[l].status=="online";Vi(this,J);Or(this)}else this.ej("Changing Screen set during request."),this.V()}S(O){this.ej("Screen availability failed: "+O);this.j=null;Or(this)}ej(O){tk("OnlineScreenService",O)}};g.jF(yi,BD);g.b=yi.prototype;g.b.start=function(){this.j.start();this.K.start();this.screens.length&&(this.publish("screenChange"),this.K.isEmpty()||this.publish("onlineScreenChange"))};
g.b.add=function(O,V,J){this.j.add(O,V,J)};
g.b.remove=function(O,V,J){this.j.remove(O,V,J);this.K.update()};
g.b.MM=function(O,V,J,y){this.j.contains(O)?this.j.MM(O,V,J,y):(O="Updating name of unknown screen: "+O.name,tk(this.A,O),y(Error(O)))};
g.b.aW=function(O){return O?this.screens:g.MW(this.screens,g.sz(this.U,function(V){return!this.contains(V)},this))};
g.b.dT=function(){return g.sz(this.aW(!0),function(O){return!!this.K.K[O.id]},this)};
g.b.O8=function(O,V,J,y,l,m){this.info("getDialScreenByPairingCode "+O+" / "+V);const H=new aNn(this.D,O,V,J,y);H.subscribe("pairingComplete",(C,F)=>{g.y$(H);l(l5(this,C),F)});
H.subscribe("pairingFailed",C=>{g.y$(H);m(C)});
H.start();return(0,g.Vs)(H.stop,H)};
g.b.Qf=function(O,V,J,y){g.tD(Q3(this.D,"/pairing/get_screen"),{method:"POST",postParams:{pairing_code:O},timeout:5E3,onSuccess:(0,g.Vs)(function(l,m){l=new NG(m.screen||{});if(!l.name||VTz(this,l.name)){a:{m=l.name;let H=2,C=V(m,H);for(;VTz(this,C);){H++;if(H>20)break a;C=V(m,H)}m=C}l.name=m}J(l5(this,l))},this),
onError:(0,g.Vs)(function(l){y(Error("pairing request failed: "+l.status))},this),
onTimeout:(0,g.Vs)(function(){y(Error("pairing request timed out."))},this)})};
g.b.U5=function(){g.y$(this.j);g.y$(this.K);yi.Z_.U5.call(this)};
g.b.Tl=function(){yFn(this);this.publish("screenChange");this.K.update()};
yi.prototype.dispose=yi.prototype.dispose;g.jF($0,g.OB);g.b=$0.prototype;g.b.Lw=function(O){this.gW()||(O&&(jO(this,""+O),this.publish("sessionFailed")),this.K=null,this.publish("sessionScreen",null))};
g.b.info=function(O){tk(this.fD,O)};
g.b.As=function(){return null};
g.b.Nb=function(O){const V=this.j;O?(V.displayStatus=new chrome.cast.ReceiverDisplayStatus(O,[]),V.displayStatus.showStop=!0):V.displayStatus=null;chrome.cast.setReceiverDisplayStatus(V,(0,g.Vs)(function(){this.info("Updated receiver status for "+V.friendlyName+": "+O)},this),(0,g.Vs)(function(){jO(this,"Failed to update receiver status for: "+V.friendlyName)},this))};
g.b.U5=function(){this.Nb("");$0.Z_.U5.call(this)};var bP=class extends $0{constructor(O,V,J){super(O,V,"CastSession");this.config_=J;this.U=null;this.J=(0,g.Vs)(this.O5,this);this.qX=(0,g.Vs)(this.uw,this);this.KD=g.MV(()=>{j8E(this,null)},12E4);
this.S=this.W=this.V=this.T=0}lw(O){if(this.U){if(this.U==O)return;jO(this,"Overriding cast session with new session object");CFn(this);this.U.removeUpdateListener(this.J);this.U.removeMessageListener("urn:x-cast:com.google.youtube.mdx",this.qX)}this.U=O;this.U.addUpdateListener(this.J);this.U.addMessageListener("urn:x-cast:com.google.youtube.mdx",this.qX);FSE(this,"getMdxSessionStatus")}A(O){this.info("launchWithParams no-op for Cast: "+g.eL(O))}stop(){this.U?this.U.stop((0,g.Vs)(function(){this.Lw()},
this),(0,g.Vs)(function(){this.Lw(Error("Failed to stop receiver app."))},this)):this.Lw(Error("Stopping cast device without session."))}Nb(){}U5(){this.info("disposeInternal");
CFn(this);this.U&&(this.U.removeUpdateListener(this.J),this.U.removeMessageListener("urn:x-cast:com.google.youtube.mdx",this.qX));this.U=null;super.U5()}uw(O,V){if(!this.gW())if(V)if(V=$w(V),g.kY(V))switch(O=""+V.type,V=V.data||{},this.info("onYoutubeMessage_: "+O+" "+g.eL(V)),O){case "mdxSessionStatus":j8E(this,V);break;case "loungeToken":N4z(this,V);break;default:jO(this,"Unknown youtube message: "+O)}else jO(this,"Unable to parse message.");else jO(this,"No data in message.")}Xj(O,V,J,y){g.nH(this.T);
this.T=0;O3y(this.D,this.j.label,O,this.j.friendlyName,(0,g.Vs)(function(l){l?V(l):y>=0?(jO(this,"Screen "+O+" appears to be offline. "+y+" retries left."),this.T=g.MV((0,g.Vs)(this.Xj,this,O,V,J,y-1),300)):J(Error("Unable to fetch screen."))},this),J)}As(){return this.U}O5(O){this.gW()||O||(jO(this,"Cast session died."),this.Lw())}};var bMV=class extends $0{constructor(O,V,J,y){super(O,V,"DialSession");this.config_=y;this.U=this.T=null;this.qX="";this.uw=J;this.O5=null;this.J=()=>{};
this.KD=NaN;this.Xj=(0,g.Vs)(this.ol,this);this.W=()=>{};
this.S=this.V=0}lw(O){this.U=O;this.U.addUpdateListener(this.Xj)}A(O){this.O5=O;this.J()}stop(){zhI(this);this.U?this.U.stop((0,g.Vs)(this.Lw,this,null),(0,g.Vs)(this.Lw,this,"Failed to stop DIAL device.")):this.Lw()}U5(){zhI(this);this.U&&this.U.removeUpdateListener(this.Xj);this.U=null;super.U5()}ol(O){this.gW()||O||(jO(this,"DIAL session died."),this.W(),this.W=()=>{},this.Lw())}};var pPs=class extends $0{constructor(O,V){super(O,V,"ManualSession");this.U=g.MV((0,g.Vs)(this.A,this,null),150)}stop(){this.Lw()}lw(){}A(){g.nH(this.U);this.U=NaN;const O=c1(this.D.aW(),this.j.label);O?H4(this,O):this.Lw(Error("No such screen"))}U5(){g.nH(this.U);this.U=NaN;super.U5()}};var hf=class extends g.OB{constructor(O,V){super();this.config_=V;this.j=O;this.lw=V.appId||"233637DE";this.D=V.theme||"cl";this.fD=V.disableCastApi||!1;this.V=V.forceMirroring||!1;this.K=null;this.S=!1;this.U=[];this.A=(0,g.Vs)(this.O5,this)}init(O,V){chrome.cast.timeout.requestSession=3E4;var J=new chrome.cast.SessionRequest(this.lw,[chrome.cast.Capability.AUDIO_OUT]);g.d9("desktop_enable_cast_connect")&&(J.androidReceiverCompatible=!0);this.fD||(J.dialRequest=new chrome.cast.DialRequest("YouTube"));
const y=chrome.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED;O=O||this.V?chrome.cast.DefaultActionPolicy.CAST_THIS_TAB:chrome.cast.DefaultActionPolicy.CREATE_SESSION;const l=(0,g.Vs)(this.uw,this);J=new chrome.cast.ApiConfig(J,(0,g.Vs)(this.T,this),l,y,O);J.customDialLaunchCallback=(0,g.Vs)(this.Xj,this);chrome.cast.initialize(J,(0,g.Vs)(function(){this.gW()||(chrome.cast.addReceiverActionListener(this.A),KUz(),this.j.subscribe("onlineScreenChange",(0,g.Vs)(this.W,this)),this.U=YTF(this),chrome.cast.setCustomReceivers(this.U,
()=>{},(0,g.Vs)(function(m){this.ej("Failed to set initial custom receivers: "+g.eL(m))},this)),this.publish("yt-remote-cast2-availability-change",Ur(this)),V(!0))},this),(0,g.Vs)(function(m){this.ej("Failed to initialize API: "+g.eL(m));
V(!1)},this))}GL(O,V){Zc("Setting connected screen ID: "+O+" -> "+V);
if(this.K){var J=this.K.K;if(!O||J&&J.id!=O)Zc("Unsetting old screen status: "+this.K.j.friendlyName),zZ(this,null)}if(O&&V){if(!this.K){O=c1(this.j.aW(),O);if(!O){Zc("setConnectedScreenStatus: Unknown screen.");return}if(O.idType=="shortLived"){Zc("setConnectedScreenStatus: Screen with id type to be short lived.");return}J=IW1(this,O);J||(Zc("setConnectedScreenStatus: Connected receiver not custom..."),J=new chrome.cast.Receiver(O.uuid?O.uuid:O.id,O.name),J.receiverType=chrome.cast.ReceiverType.CUSTOM,
this.U.push(J),chrome.cast.setCustomReceivers(this.U,()=>{},(0,g.Vs)(function(y){this.ej("Failed to set initial custom receivers: "+g.eL(y))},this)));
Zc("setConnectedScreenStatus: new active receiver: "+J.friendlyName);zZ(this,new pPs(this.j,J),!0)}this.K.Nb(V)}else Zc("setConnectedScreenStatus: no screen.")}xi(O){this.gW()?this.ej("Setting connection data on disposed cast v2"):this.K?this.K.A(O):this.ej("Setting connection data without a session")}qX(){this.gW()?this.ej("Stopping session on disposed cast v2"):this.K?(this.K.stop(),zZ(this,null)):Zc("Stopping non-existing session")}requestSession(){chrome.cast.requestSession((0,g.Vs)(this.T,this),
(0,g.Vs)(this.ol,this))}U5(){this.j.unsubscribe("onlineScreenChange",(0,g.Vs)(this.W,this));window.chrome&&chrome.cast&&chrome.cast.removeReceiverActionListener(this.A);var O=qWF;const V=g.Ar("yt.mdx.remote.debug.handlers_");g.vn(V||[],O);g.y$(this.K);super.U5()}ej(O){tk("Controller",O)}KD(O,V){this.K==O&&(V||zZ(this,null),this.publish("yt-remote-cast2-session-change",V))}O5(O,V){if(!this.gW())if(O)switch(O.friendlyName=chrome.cast.unescape(O.friendlyName),Zc("onReceiverAction_ "+O.label+" / "+O.friendlyName+
"-- "+V),V){case chrome.cast.ReceiverAction.CAST:if(this.K)if(this.K.j.label!=O.label)Zc("onReceiverAction_: Stopping active receiver: "+this.K.j.friendlyName),this.K.stop();else{Zc("onReceiverAction_: Casting to active receiver.");this.K.K&&this.publish("yt-remote-cast2-session-change",this.K.K);break}switch(O.receiverType){case chrome.cast.ReceiverType.CUSTOM:zZ(this,new pPs(this.j,O));break;case chrome.cast.ReceiverType.DIAL:zZ(this,new bMV(this.j,O,this.D,this.config_));break;case chrome.cast.ReceiverType.CAST:zZ(this,
new bP(this.j,O,this.config_));break;default:this.ej("Unknown receiver type: "+O.receiverType)}break;case chrome.cast.ReceiverAction.STOP:this.K&&this.K.j.label==O.label?this.K.stop():this.ej("Stopping receiver w/o session: "+O.friendlyName)}else this.ej("onReceiverAction_ called without receiver.")}Xj(O){if(this.gW())return Promise.reject(Error("disposed"));var V=O.receiver;V.receiverType!=chrome.cast.ReceiverType.DIAL&&(this.ej("Not DIAL receiver: "+V.friendlyName),V.receiverType=chrome.cast.ReceiverType.DIAL);
var J=this.K?this.K.j:null;if(!J||J.label!=V.label)return this.ej("Receiving DIAL launch request for non-clicked DIAL receiver: "+V.friendlyName),Promise.reject(Error("illegal DIAL launch"));if(J&&J.label==V.label&&J.receiverType!=chrome.cast.ReceiverType.DIAL){if(this.K.K)return Zc("Reselecting dial screen."),this.publish("yt-remote-cast2-session-change",this.K.K),Promise.resolve(new chrome.cast.DialLaunchResponse(!1));this.ej('Changing CAST intent from "'+J.receiverType+'" to "dial" for '+V.friendlyName);
zZ(this,new bMV(this.j,V,this.D,this.config_))}V=this.K;V.T=O;V.T.appState==chrome.cast.DialAppState.RUNNING?(O=V.T.extraData||{},J=O.screenId||null,x0(V)&&O.loungeToken?O.loungeTokenRefreshIntervalMs?O=ehW(V,{name:V.j.friendlyName,screenId:O.screenId,loungeToken:O.loungeToken,dialId:V.T.receiver.label,screenIdType:"shortLived"},O.loungeTokenRefreshIntervalMs):(g.jA(Error(`No loungeTokenRefreshIntervalMs presents in additionalData: ${JSON.stringify(O)}.`)),O=s8V(V,J)):O=s8V(V,J)):O=NC(V);return O}T(O){if(!this.gW()&&
!this.V){Zc("New cast session ID: "+O.sessionId);var V=O.receiver;if(V.receiverType!=chrome.cast.ReceiverType.CUSTOM){if(!this.K)if(V.receiverType==chrome.cast.ReceiverType.CAST)Zc("Got resumed cast session before resumed mdx connection."),V.friendlyName=chrome.cast.unescape(V.friendlyName),zZ(this,new bP(this.j,V,this.config_),!0);else{this.ej("Got non-cast session without previous mdx receiver event, or mdx resume.");return}var J=this.K.j,y=c1(this.j.aW(),J.label);y&&xw(y,V.label)&&J.receiverType!=
chrome.cast.ReceiverType.CAST&&V.receiverType==chrome.cast.ReceiverType.CAST&&(Zc("onSessionEstablished_: manual to cast session change "+V.friendlyName),g.y$(this.K),this.K=new bP(this.j,V,this.config_),this.K.subscribe("sessionScreen",(0,g.Vs)(this.KD,this,this.K)),this.K.subscribe("sessionFailed",()=>aWV(this,this.K)),this.K.A(null));
this.K.lw(O)}}}J(){return this.K?this.K.As():null}ol(O){this.gW()||(this.ej("Failed to estabilish a session: "+g.eL(O)),O.code!=chrome.cast.ErrorCode.CANCEL&&zZ(this,null),this.publish("yt-remote-cast2-session-failed"))}uw(O){Zc("Receiver availability updated: "+O);if(!this.gW()){var V=Ur(this);this.S=O==chrome.cast.ReceiverAvailability.AVAILABLE;Ur(this)!=V&&this.publish("yt-remote-cast2-availability-change",Ur(this))}}W(){this.gW()||(this.U=YTF(this),Zc("Updating custom receivers: "+g.eL(this.U)),
chrome.cast.setCustomReceivers(this.U,()=>{},(0,g.Vs)(function(){this.ej("Failed to set custom receivers.")},this)),this.publish("yt-remote-cast2-availability-change",Ur(this)))}};
hf.prototype.setLaunchParams=hf.prototype.xi;hf.prototype.setConnectedScreenStatus=hf.prototype.GL;hf.prototype.stopSession=hf.prototype.qX;hf.prototype.getCastSession=hf.prototype.J;hf.prototype.requestSession=hf.prototype.requestSession;hf.prototype.init=hf.prototype.init;hf.prototype.dispose=hf.prototype.dispose;var Y0=[],oSz=(0,g.D6)`https://www.gstatic.com/cv/js/sender/v1/cast_sender.js`;g.b=oK.prototype;
g.b.reset=function(O){this.listId="";this.index=-1;this.videoId="";v4(this);this.volume=-1;this.muted=!1;O&&(this.index=O.index,this.listId=O.listId,this.videoId=O.videoId,this.playerState=O.playerState,this.volume=O.volume,this.muted=O.muted,this.audioTrackId=O.audioTrackId,this.trackData=O.trackData,this.hasPrevious=O.hasPrevious,this.hasNext=O.hasNext,this.A=O.playerTime,this.W=O.playerTimeAt,this.j=O.seekableStart,this.V=O.seekableEnd,this.U=O.duration,this.loadedTime=O.loadedTime,this.K=O.liveIngestionTime,
this.D=!isNaN(this.K))};
g.b.isPlaying=function(){return this.playerState==1};
g.b.isBuffering=function(){return this.playerState==3};
g.b.AR=function(O){this.U=isNaN(O)?0:O};
g.b.getDuration=function(){return this.D?this.U+wD(this):this.U};
g.b.clone=function(){return new oK(XJ(this))};var fNE=class extends g.OB{constructor(){var O=$d();super();this.U=0;this.D=O;this.V=[];this.W=new cBW;this.j=this.K=null;this.J=(0,g.Vs)(this.O5,this);this.T=(0,g.Vs)(this.A,this);this.KD=(0,g.Vs)(this.Xj,this);this.fD=(0,g.Vs)(this.uw,this);let V=0;O?(V=O.getProxyState(),V!=3&&(O.subscribe("proxyStateChange",this.lw,this),dUV(this))):V=3;V!=0&&g.MV(()=>{this.lw(V)},0);
(O=nSV())&&Er(this,O);this.subscribe("yt-remote-cast2-session-change",this.fD)}getState(){return this.U}gt(){return this.D.getReconnectTimeout()}mR(){this.D.reconnect()}play(){gD(this)?(this.K?this.K.play(null,g.Ep,Qi(this,"play")):qC(this,"play"),Kl(this,1,Ll(dD(this))),this.publish("remotePlayerChange")):tf(this,this.play)}pause(){gD(this)?(this.K?this.K.pause(null,g.Ep,Qi(this,"pause")):qC(this,"pause"),Kl(this,2,Ll(dD(this))),this.publish("remotePlayerChange")):tf(this,this.pause)}seekTo(O){if(gD(this)){if(this.K){const V=
dD(this),J=new chrome.cast.media.SeekRequest;J.currentTime=O;V.isPlaying()||V.isBuffering()?J.resumeState=chrome.cast.media.ResumeState.PLAYBACK_START:J.resumeState=chrome.cast.media.ResumeState.PLAYBACK_PAUSE;this.K.seek(J,g.Ep,Qi(this,"seekTo",{newTime:O}))}else qC(this,"seekTo",{newTime:O});Kl(this,3,O);this.publish("remotePlayerChange")}else tf(this,g.lm(this.seekTo,O))}stop(){if(gD(this)){this.K?this.K.stop(null,g.Ep,Qi(this,"stopVideo")):qC(this,"stopVideo");var O=dD(this);O.index=-1;O.videoId=
"";v4(O);GZ(this,O);this.publish("remotePlayerChange")}else tf(this,this.stop)}setVolume(O,V){if(gD(this)){var J=dD(this);if(this.j){if(J.volume!=O){const y=Math.round(O)/100;this.j.setReceiverVolumeLevel(y,(0,g.Vs)(function(){ut("set receiver volume: "+y)},this),(0,g.Vs)(function(){this.ej("failed to set receiver volume.")},this))}J.muted!=V&&this.j.setReceiverMuted(V,(0,g.Vs)(function(){ut("set receiver muted: "+V)},this),(0,g.Vs)(function(){this.ej("failed to set receiver muted.")},this))}else{const y=
{volume:O,
muted:V};J.volume!=-1&&(y.delta=O-J.volume);qC(this,"setVolume",y)}J.muted=V;J.volume=O;GZ(this,J)}else tf(this,g.lm(this.setVolume,O,V))}S(O,V){if(gD(this)){var J=dD(this);O={videoId:O};V&&(J.trackData={trackName:V.name,languageCode:V.languageCode,sourceLanguageCode:V.translationLanguage?V.translationLanguage.languageCode:"",languageName:V.languageName,kind:V.kind},O.style=g.eL(V.style),g.xm(O,J.trackData));qC(this,"setSubtitlesTrack",O);GZ(this,J)}else tf(this,g.lm(this.S,O,V))}setAudioTrack(O,
V){gD(this)?(V=V.getLanguageInfo().getId(),qC(this,"setAudioTrack",{videoId:O,audioTrackId:V}),O=dD(this),O.audioTrackId=V,GZ(this,O)):tf(this,g.lm(this.setAudioTrack,O,V))}playVideo(O,V,J,y=null,l=null,m=null,H=null){const C=dD(this),F={videoId:O};J!==void 0&&(F.currentIndex=J);nl(C,O,J||0);V!==void 0&&(MC(C,V),F.currentTime=V);y&&(F.listId=y);l&&(F.playerParams=l);m&&(F.clickTrackingParams=m);H&&(F.locationInfo=g.eL(H));qC(this,"setPlaylist",F);y||GZ(this,C)}GW(O,V){if(gD(this)){if(O&&V){const J=
dD(this);nl(J,O,V);GZ(this,J)}qC(this,"previous")}else tf(this,g.lm(this.GW,O,V))}nextVideo(O,V){if(gD(this)){if(O&&V){const J=dD(this);nl(J,O,V);GZ(this,J)}qC(this,"next")}else tf(this,g.lm(this.nextVideo,O,V))}Vv(){if(gD(this)){qC(this,"clearPlaylist");var O=dD(this);O.reset();GZ(this,O);this.publish("remotePlayerChange")}else tf(this,this.Vv)}qX(){gD(this)?qC(this,"dismissAutoplay"):tf(this,this.qX)}dispose(){if(this.U!=3){const O=this.U;this.U=3;this.publish("proxyStateChange",O,this.U)}super.dispose()}U5(){gSz(this);
this.D=null;this.W.clear();Er(this,null);super.U5()}lw(O){if((O!=this.U||O==2)&&this.U!=3&&O!=0){var V=this.U;this.U=O;this.publish("proxyStateChange",V,O);if(O==1)for(;!this.W.isEmpty();)V=O=this.W,V.K.length===0&&(V.K=V.j,V.K.reverse(),V.j=[]),O.K.pop().apply(this);else O==3&&this.dispose()}}ol(O,V){this.publish(O,V)}O5(O){if(!O)this.A(null),Er(this,null);else if(this.j.receiver.volume){O=this.j.receiver.volume;const V=dD(this),J=Math.round(100*O.level||0);if(V.volume!=J||V.muted!=O.muted)ut("Cast volume update: "+
O.level+(O.muted?" muted":"")),V.volume=J,V.muted=!!O.muted,GZ(this,V)}}A(O){ut("Cast media: "+!!O);this.K&&this.K.removeUpdateListener(this.KD);if(this.K=O)this.K.addUpdateListener(this.KD),qTC(this),this.publish("remotePlayerChange")}Xj(O){O?(qTC(this),this.publish("remotePlayerChange")):this.A(null)}ix(){qC(this,"sendDebugCommand",{debugCommand:"stats4nerds "})}uw(){const O=nSV();O&&Er(this,O)}ej(O){tk("CP",O)}};var Zo=class extends g.OB{constructor(O,V=!1){var J=P4,y=lP();super();this.A=NaN;this.Xj=!1;this.J=this.KD=this.lw=this.fD=NaN;this.qX=[];this.W=this.S=this.D=this.K=this.j=null;this.SB=J;this.ol=V;this.qX.push(g.AS(window,"beforeunload",()=>{this.V(2)}));
this.U=[];this.K=new oK;this.PE=O.id;this.uw=O.idType;this.j=g9I(this.SB,y,this.O5,this.uw=="shortLived",this.PE);this.j.listen("channelOpened",()=>{Q8m(this)});
this.j.listen("channelClosed",()=>{u5("Channel closed");isNaN(this.A)?Yw(!0):Yw();this.dispose()});
this.j.listen("channelError",l=>{Yw();isNaN(this.T())?(l==1&&this.uw=="shortLived"&&this.publish("browserChannelAuthError",l),u5(`Channel error: ${l} without reconnection`),this.dispose()):(this.Xj=!0,u5("Channel error: "+l+" with reconnection in "+this.T()+" ms"),rD(this,2))});
this.j.listen("channelMessage",l=>{STV(this,l)});
this.j.d5(O.token);this.subscribe("remoteQueueChange",()=>{var l=this.K.videoId;g.J7()&&g.Dj("yt-remote-session-video-id",l)})}connect(O,V){if(V){var J=V.listId;
const y=V.videoId,l=V.videoIds,m=V.playerParams,H=V.clickTrackingParams,C=V.index,F={videoId:y},N=V.currentTime,x=V.locationInfo;V=V.loopMode;N!==void 0&&(F.currentTime=N<=5?0:N);m&&(F.playerParams=m);x&&(F.locationInfo=x);H&&(F.clickTrackingParams=H);J&&(F.listId=J);l&&l.length>0&&(F.videoIds=l.join(","));C!==void 0&&(F.currentIndex=C);this.ol&&(F.loopMode=V||"LOOP_MODE_OFF");J&&(this.K.listId=J);this.K.videoId=y;this.K.index=C||0;this.K.state=3;MC(this.K,N);this.W="UNSUPPORTED";J=this.ol?"setInitialState":
"setPlaylist";u5(`Connecting with ${J} and params: ${g.eL(F)}`);this.j.connect({method:J,params:g.eL(F)},O,R3D())}else u5("Connecting without params"),this.j.connect({},O,R3D());DUI(this)}d5(O){this.j.d5(O)}dispose(){this.gW()||(g.uX("yt.mdx.remote.remoteClient_",null),this.publish("beforeDispose"),rD(this,3));super.dispose()}U5(){i5(this);RK(this);Af(this);g.nH(this.KD);this.KD=NaN;g.nH(this.J);this.J=NaN;this.D=null;g.rS(this.qX);this.qX.length=0;this.j.dispose();super.U5();this.W=this.S=this.U=
this.K=this.j=null}xi(O){if(!this.U||this.U.length===0)return!1;for(const V of this.U)if(!V.capabilities.has(O))return!1;return!0}BE(){let O=3;this.gW()||(O=0,isNaN(this.T())?this.j.UJ()&&isNaN(this.A)&&(O=1):O=2);return O}V(O){u5("Disconnecting with "+O);g.uX("yt.mdx.remote.remoteClient_",null);i5(this);this.publish("beforeDisconnect",O);O==1&&Yw();this.j.disconnect(O);this.dispose()}s5(){let O=this.K;this.D&&(O=this.K.clone(),nl(O,this.D,O.index));return XJ(O)}UR(O){const V=new oK(O);V.videoId&&
V.videoId!=this.K.videoId&&(this.D=V.videoId,g.nH(this.KD),this.KD=g.MV(()=>{if(this.D){const y=this.D;this.D=null;this.K.videoId!=y&&B4(this,"getNowPlaying")}},5E3));
const J=[];this.K.listId==V.listId&&this.K.videoId==V.videoId&&this.K.index==V.index||J.push("remoteQueueChange");this.K.playerState==V.playerState&&this.K.volume==V.volume&&this.K.muted==V.muted&&Ll(this.K)==Ll(V)&&g.eL(this.K.trackData)==g.eL(V.trackData)||J.push("remotePlayerChange");this.K.reset(O);g.zD(J,function(y){this.publish(y)},this)}GL(){const O=this.j.getDeviceId(),V=g.bm(this.U,function(J){return J.type=="REMOTE_CONTROL"&&J.id!=O});
return V?V.id:""}T(){return this.j.gt()}TL(){return this.W||"UNSUPPORTED"}zL(){return this.S||""}cE(){!isNaN(this.T())&&this.j.mR()}Ks(O,V){B4(this,O,V);JXC(this)}O5(){var O=g.l0("SAPISID","")||g.l0("__Secure-1PAPISID")||"",V=g.l0("__Secure-3PAPISID","")||"";if(!O&&!V)return"";O=g.QI(g.dN(O),2);V=g.QI(g.dN(V),2);return g.QI(g.dN(`,${O},${V}`),2)}};Zo.prototype.subscribe=Zo.prototype.subscribe;Zo.prototype.unsubscribeByKey=Zo.prototype.EY;Zo.prototype.getProxyState=Zo.prototype.BE;
Zo.prototype.disconnect=Zo.prototype.V;Zo.prototype.getPlayerContextData=Zo.prototype.s5;Zo.prototype.setPlayerContextData=Zo.prototype.UR;Zo.prototype.getOtherConnectedRemoteId=Zo.prototype.GL;Zo.prototype.getReconnectTimeout=Zo.prototype.T;Zo.prototype.getAutoplayMode=Zo.prototype.TL;Zo.prototype.getAutoplayVideoId=Zo.prototype.zL;Zo.prototype.reconnect=Zo.prototype.cE;Zo.prototype.sendMessage=Zo.prototype.Ks;Zo.prototype.getXsrfToken=Zo.prototype.O5;
Zo.prototype.isCapabilitySupportedOnConnectedDevices=Zo.prototype.xi;var CNm=class extends BD{constructor(O){super("ScreenServiceProxy");this.qU=O;this.K=[];this.K.push(this.qU.$_s("screenChange",(0,g.Vs)(this.j,this)));this.K.push(this.qU.$_s("onlineScreenChange",(0,g.Vs)(this.U,this)))}aW(O){return this.qU.$_gs(O)}contains(O){return!!this.qU.$_c(O)}get(O){return this.qU.$_g(O)}start(){this.qU.$_st()}add(O,V,J){this.qU.$_a(O,V,J)}remove(O,V,J){this.qU.$_r(O,V,J)}MM(O,V,J,y){this.qU.$_un(O,V,J,y)}U5(){const O=this.K.length;for(let V=0;V<O;++V)this.qU.$_ubk(this.K[V]);
this.K.length=0;this.qU=null;super.U5()}j(){this.publish("screenChange")}U(){this.publish("onlineScreenChange")}};yi.prototype.$_st=yi.prototype.start;yi.prototype.$_gspc=yi.prototype.Qf;yi.prototype.$_gsppc=yi.prototype.O8;yi.prototype.$_c=yi.prototype.contains;yi.prototype.$_g=yi.prototype.get;yi.prototype.$_a=yi.prototype.add;yi.prototype.$_un=yi.prototype.MM;yi.prototype.$_r=yi.prototype.remove;yi.prototype.$_gs=yi.prototype.aW;yi.prototype.$_gos=yi.prototype.dT;yi.prototype.$_s=yi.prototype.subscribe;
yi.prototype.$_ubk=yi.prototype.EY;var j6=null,Uv=!1,P4=null,k0=null,Wo=null,VZ=[];var h1m=class extends g.mz{constructor(O,V,J){super();this.K=O;this.O=V;this.qI=J;this.events=new g.O3(this);this.A=!1;this.S=new g.jX(64);this.j=new g.ii(this.O5,500,this);this.U=new g.ii(this.uw,1E3,this);this.KD=new v1(this.PE,0,this);this.D={};this.J=new g.ii(this.GL,1E3,this);this.T=new g.Du(this.seekTo,1E3,this);this.xi=this.events.C(this.O,"onVolumeChange",y=>{xEz(this,y)});
g.M(this,this.events);this.events.C(V,"onCaptionsTrackListChanged",this.cE);this.events.C(V,"captionschanged",this.SB);this.events.C(V,"captionssettingschanged",this.ol);this.events.C(V,"videoplayerreset",this.V);this.events.C(V,"mdxautoplaycancel",()=>{this.qI.qX()});
V.G("enable_mdx_video_play_directly")&&this.events.C(V,"videodatachange",()=>{ZMs(this.K)||zq(this)||Tq(this,0)});
O=this.qI;O.gW();O.subscribe("proxyStateChange",this.Xj,this);O.subscribe("remotePlayerChange",this.W,this);O.subscribe("remoteQueueChange",this.V,this);O.subscribe("previousNextChange",this.fD,this);O.subscribe("nowAutoplaying",this.lw,this);O.subscribe("autoplayDismissed",this.qX,this);g.M(this,this.j);g.M(this,this.U);g.M(this,this.KD);g.M(this,this.J);g.M(this,this.T);this.ol();this.V();this.W()}U5(){super.U5();this.j.stop();this.U.stop();this.KD.stop();const O=this.qI;O.unsubscribe("proxyStateChange",
this.Xj,this);O.unsubscribe("remotePlayerChange",this.W,this);O.unsubscribe("remoteQueueChange",this.V,this);O.unsubscribe("previousNextChange",this.fD,this);O.unsubscribe("nowAutoplaying",this.lw,this);O.unsubscribe("autoplayDismissed",this.qX,this);this.qI=this.K=null}Bs(O,...V){if(this.qI.U!=2)if(zq(this)){if(dD(this.qI).playerState!=1081||O!=="control_seek")switch(O){case "control_toggle_play_pause":dD(this.qI).isPlaying()?this.qI.pause():this.qI.play();break;case "control_play":this.qI.play();
break;case "control_pause":this.qI.pause();break;case "control_seek":this.T.D(V[0],V[1]);break;case "control_subtitles_set_track":e6(this,V[0]);break;case "control_set_audio_track":this.setAudioTrack(V[0])}}else switch(O){case "control_toggle_play_pause":case "control_play":case "control_pause":O=this.O.getCurrentTime();Tq(this,O===0?void 0:O);break;case "control_seek":Tq(this,V[0]);break;case "control_subtitles_set_track":e6(this,V[0]);break;case "control_set_audio_track":this.setAudioTrack(V[0])}}SB(O){this.KD.ox(O)}PE(O){this.Bs("control_subtitles_set_track",
g.l2(O)?null:O)}ol(){const O=this.O.getOption("captions","track");g.l2(O)||e6(this,O)}wX(O){this.K.wX(O,this.O.getVideoData().lengthSeconds)}cE(){g.l2(this.D)||Waz(this,this.D);this.A=!1}Xj(O,V){this.U.stop();V===2&&this.uw()}W(){if(zq(this)){this.j.stop();var O=dD(this.qI);switch(O.playerState){case 1080:case 1081:case 1084:case 1085:this.K.sY=1;break;case 1082:case 1083:this.K.sY=0;break;default:this.K.sY=-1}switch(O.playerState){case 1081:case 1:this.RX(new g.jX(8));this.O5();break;case 1085:case 3:this.RX(new g.jX(9));
break;case 1083:case 0:this.RX(new g.jX(2));this.T.stop();this.wX(this.O.getVideoData().lengthSeconds);break;case 1084:this.RX(new g.jX(4));break;case 2:this.RX(new g.jX(4));this.wX(Ll(O));break;case -1:this.RX(new g.jX(64));break;case -1E3:this.RX(new g.jX(128,{errorCode:"mdx.remoteerror",errorMessage:"Este video no se encuentra disponible para reproducirse de forma remota.",Z3:2}))}const J=dD(this.qI).trackData;O=J;var V=this.D;(O||V?O&&V&&O.trackName==V.trackName&&O.languageCode==V.languageCode&&
O.languageName==V.languageName&&O.kind==V.kind:1)||(this.D=J,Waz(this,J));O=dD(this.qI);O.volume===-1||Math.round(this.O.getVolume())===O.volume&&this.O.isMuted()===O.muted||this.J.isActive()||this.GL()}else UEz(this)}fD(){this.O.publish("mdxpreviousnextchange")}V(){zq(this)||UEz(this)}lw(O){isNaN(O)||this.O.publish("mdxnowautoplaying",O)}qX(){this.O.publish("mdxautoplaycanceled")}setAudioTrack(O){zq(this)&&this.qI.setAudioTrack(co(this).videoId,O)}seekTo(O,V){dD(this.qI).playerState===-1?Tq(this,
O):V&&this.qI.seekTo(O)}GL(){if(zq(this)){var O=dD(this.qI);this.events.gX(this.xi);O.muted?this.O.mute():this.O.unMute();this.O.setVolume(O.volume);this.xi=this.events.C(this.O,"onVolumeChange",V=>{xEz(this,V)})}}O5(){this.j.stop();
if(!this.qI.gW()){var O=dD(this.qI);O.isPlaying()&&this.RX(new g.jX(8));this.wX(Ll(O));this.j.start()}}uw(){this.U.stop();this.j.stop();const O=this.qI.gt();this.qI.U==2&&!isNaN(O)&&this.U.start()}RX(O){this.U.stop();const V=this.S;if(!g.US(V,O)){const J=O.K(2);J!==this.S.K(2)&&this.O.LY(J);this.S=O;z1d(this.K,V,O)}}};var oUs=class extends g.fP{constructor(O,V){super(O);this.K=V}getCurrentTime(){return this.K.getCurrentTime()}getDuration(){return this.K.getDuration()}dN(){return this.K.dN()}J_(){return this.K.J_()}qj(){return this.K.qj()}o_(){return this.K.o_()}getPlayerState(){return this.K.ZD}isAtLiveHead(){return this.K.isAtLiveHead()}pauseVideo(){IU(this.K,"control_pause")}async playVideo(){IU(this.K,"control_play")}seekTo(O,V){IU(this.K,"control_seek",O,!V?.oJ)}cQ(O){IU(this.K,"control_set_audio_track",O);
return!0}};var vU1=class extends g.k{constructor(){super({X:"div",L:"ytp-mdx-popup-dialog",Y:{role:"dialog"},N:[{X:"div",L:"ytp-mdx-popup-dialog-inner-content",N:[{X:"div",L:"ytp-mdx-popup-title",Rl:"Saliste de tu cuenta"},{X:"div",L:"ytp-mdx-popup-description",Rl:"Es posible que los videos que mires se agreguen al historial de reproducciones de la TV, lo que puede influir en las recomendaciones. Para que esto no suceda, presiona \u201cCancelar\u201d y accede a YouTube desde tu computadora."},{X:"div",L:"ytp-mdx-privacy-popup-buttons",
N:[{X:"button",Fj:["ytp-button","ytp-mdx-privacy-popup-cancel"],Rl:"Cancelar"},{X:"button",Fj:["ytp-button","ytp-mdx-privacy-popup-confirm"],Rl:"Confirmar"}]}]}]});this.fade=new g.bK(this,250);this.cancelButton=this.DN("ytp-mdx-privacy-popup-cancel");this.confirmButton=this.DN("ytp-mdx-privacy-popup-confirm");g.M(this,this.fade);this.C(this.cancelButton,"click",this.K);this.C(this.confirmButton,"click",this.j)}Yr(){this.fade.show()}x8(){this.fade.hide()}K(){bq("mdx-privacy-popup-cancel");this.x8()}j(){bq("mdx-privacy-popup-confirm");
this.x8()}};var wP1=class extends g.k{constructor(O){super({X:"div",L:"ytp-remote",N:[{X:"div",L:"ytp-remote-display-status",N:[{X:"div",L:"ytp-remote-display-status-icon",N:[g.RjV()]},{X:"div",L:"ytp-remote-display-status-text",Rl:"{{statustext}}"}]}]});this.api=O;this.fade=new g.bK(this,250);g.M(this,this.fade);this.C(O,"presentingplayerstatechange",this.onStateChange);this.xr(O.getPlayerStateObject())}onStateChange(O){this.xr(O.state)}xr(O){if(this.api.getPresentingPlayerType()===3){const V={RECEIVER_NAME:this.api.getOption("remote",
"currentReceiver").name};O=O.K(128)?g.U5("Error en $RECEIVER_NAME",V):O.isPlaying()||O.isPaused()?g.U5("Reproduciendo en $RECEIVER_NAME",V):g.U5("Con conexi\u00f3n a $RECEIVER_NAME",V);this.updateValue("statustext",O);this.fade.show()}else this.fade.hide()}};var MJW=class extends g.WQ{constructor(O,V){super("Reproducir en",1,O,V);this.O=O;this.GC={};this.C(O,"onMdxReceiversChange",this.A);this.C(O,"presentingplayerstatechange",this.A);this.A()}A(){var O=this.O.getOption("remote","receivers");O&&O.length>1&&!this.O.getOption("remote","quickCast")?(this.GC=g.AI(O,this.W,this),this.D(g.TD(O,this.W)),O=this.O.getOption("remote","currentReceiver"),O=this.W(O),this.options[O]&&this.j(O),this.enable(!0)):this.enable(!1)}W(O){return O.key}U(O){return O==="cast-selector-receiver"?
"Transmitir\u2026":this.GC[O].name}K(O){super.K(O);this.O.setOption("remote","currentReceiver",this.GC[O]);this.mp.x8()}};g.Tx("remote",class extends g.zg{constructor(O){super(O);this.Us={key:ZC(),name:"Esta computadora"};this.rk=null;this.subscriptions=[];this.j1=this.qI=null;this.GC=[this.Us];this.KG=this.Us;this.ZD=new g.jX(64);this.di=0;this.sY=-1;this.dR=!1;this.BK=this.Xr=this.Db=null;if(!g.QA(this.player.Z())&&!g.KU(this.player.Z())){O=this.player;var V=g.yw(O);V&&(V=V.rq())&&(V=new MJW(O,V),g.M(this,V));V=new wP1(O);g.M(this,V);g.cJ(O,V.element,4);this.Db=new vU1;g.M(this,this.Db);g.cJ(O,this.Db.element,4);this.dR=
!!yZ()}}create(){var O=this.player.Z();const V=g.Kf(O);O={device:"Desktop",app:"youtube-desktop",loadCastApiSetupScript:O.G("mdx_load_cast_api_bootstrap_script"),enableDialLoungeToken:O.G("enable_dial_short_lived_lounge_token"),enableCastLoungeToken:O.G("enable_cast_short_lived_lounge_token")};$Ed(V,O);this.subscriptions.push(g.OF("yt-remote-before-disconnect",this.U2,this));this.subscriptions.push(g.OF("yt-remote-connection-change",this.AQ,this));this.subscriptions.push(g.OF("yt-remote-receiver-availability-change",
this.Ak,this));this.subscriptions.push(g.OF("yt-remote-auto-connect",this.Ov,this));this.subscriptions.push(g.OF("yt-remote-receiver-resumed",this.d$,this));this.subscriptions.push(g.OF("mdx-privacy-popup-confirm",this.XL,this));this.subscriptions.push(g.OF("mdx-privacy-popup-cancel",this.W9,this));this.Ak()}load(){this.player.cancelPlayback();super.load();this.BK=new oUs(this.player.Z(),this);this.player.zc(this.BK);this.rk=new h1m(this,this.player,this.qI);var O=(O=NPE())?O.currentTime:0;const V=
xd()?new fNE:null;O==0&&V&&(O=Ll(dD(V)));O!==0&&this.wX(O);z1d(this,this.ZD,this.ZD);this.player.IF(6)}unload(){this.player.publish("mdxautoplaycanceled");this.player.c5();this.KG=this.Us;g.lD(this.rk,this.qI);this.qI=this.BK=this.rk=null;super.unload();this.player.IF(5);Yd(this)}U5(){g.Vb(this.subscriptions);super.U5()}getAdState(){return this.sY}hasPrevious(){return this.qI?dD(this.qI).hasPrevious:!1}hasNext(){return this.qI?dD(this.qI).hasNext:!1}wX(O,V){this.di=O||0;this.player.publish("progresssync",
O,V);g.Db(this.player,"onVideoProgress",O||0)}getCurrentTime(){return this.di}getDuration(){return dD(this.qI).getDuration()||0}dN(){var O=dD(this.qI);return O.D?O.K+wD(O):O.K}J_(){return dD(this.qI).loadedTime}qj(){return ESs(dD(this.qI))}o_(){var O=dD(this.qI);return O.j>0?O.j+wD(O):O.j}getProgressState(){const O=dD(this.qI),V=this.player.getVideoData();return{airingStart:0,airingEnd:0,allowSeeking:O.playerState!=1081&&this.player.Qu(),clipEnd:V.clipEnd,clipStart:V.clipStart,current:this.getCurrentTime(),
displayedStart:-1,duration:this.getDuration(),ingestionTime:this.dN(),isAtLiveHead:this.isAtLiveHead(),loaded:this.J_(),seekableEnd:this.qj(),seekableStart:this.o_(),offset:0,viewerLivestreamJoinMediaTime:0}}isAtLiveHead(){return ESs(dD(this.qI))-this.getCurrentTime()<=1}nextVideo(){this.qI&&this.qI.nextVideo()}GW(){this.qI&&this.qI.GW()}U2(O){O===1&&(this.j1=this.qI?dD(this.qI):null)}AQ(){var O=xd()?new fNE:null;if(O){const V=this.KG;this.loaded&&this.unload();this.qI=O;this.j1=null;V.key!==this.Us.key&&
(this.KG=V,this.load())}else g.y$(this.qI),this.qI=null,this.loaded&&(this.unload(),(O=this.j1)&&O.videoId===this.player.getVideoData().videoId&&this.player.cueVideoById(O.videoId,Ll(O)));this.player.publish("videodatachange","newdata",this.player.getVideoData(),3)}Ak(){var O=[this.Us],V=O.concat;const J=HMd();aK()&&g.OZ("yt-remote-cast-available")&&J.push({key:"cast-selector-receiver",name:"Cast..."});this.GC=V.call(O,J);O=Ho()||this.Us;aU(this,O);g.Db(this.player,"onMdxReceiversChange")}Ov(){const O=
Ho();aU(this,O)}d$(){this.KG=Ho()}XL(){this.dR=!0;Yd(this);Uv=!1;j6&&Fc(j6,1);j6=null}W9(){this.dR=!1;Yd(this);aU(this,this.Us);this.KG=this.Us;Uv=!1;j6=null;this.player.playVideo()}bB(O,V){switch(O){case "casting":return this.loaded;case "receivers":return this.GC;case "currentReceiver":return V&&(V.key==="cast-selector-receiver"?pl():aU(this,V)),this.loaded?this.KG:this.Us;case "quickCast":return this.GC.length===2&&this.GC[1].key==="cast-selector-receiver"?(V&&pl(),!0):!1}}ix(){this.qI.ix()}r5(){return!1}getOptions(){return["casting",
"receivers","currentReceiver","quickCast"]}isLoggedIn(){return g.Q("PLAYER_CONFIG")?.args?.authuser!==void 0?!0:!(!g.Q("SESSION_INDEX")&&!g.Q("LOGGED_IN"))}});})(_yt_player);
